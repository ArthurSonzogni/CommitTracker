import{_ as Mr}from"./K_zvSPJA.js";import{_ as Sr}from"./BWueih_X.js";import{s as K,t as jr}from"./DkrfxnvH.js";import{t as rn,l as nn,i as Or}from"./BJcRDRUM.js";import{l as Gr}from"./E4HCz5LM.js";import{c as en}from"./BOzyxcAh.js";import{a as on,b as tn,c as un}from"./rlX7cRMw.js";import{f as Ur,h as $,i as Yr,M as ln,D as Dr,o as A,c as B,j as G,a as x,F as lr,l as mr,t as nr,e as sn,N as fn,q as an,g as cn,s as vn,A as Hr,r as Ar,b as ur,d as j,w as wr,v as Fr,k as Rr,p as Ir}from"./BJdbIX9c.js";import{_ as Jr}from"./DlAUqK2U.js";import{c as mn}from"./Cpj98o6Y.js";import{f as Wr}from"./D2nGpDRe.js";import"./yHBgcFlJ.js";import"./DKbKBQE1.js";import"./C5X8qJ2i.js";import"./C7cJQd6b.js";const dn={key:0,class:"placeholder"},pn=["id"],gn=Ur({__name:"CveProgressionGraph",props:{year:{},data:{},totalPrevious:{},projection:{}},setup(Cr){const N=Cr,k=$(null),i=$(!1),l=$(null),w=$(null),g=$(null),_=$(null),p=$(null),t=$(null),r=$(null),n=$(null),e=$(null),o=$(null),s=$(null),u=$(null),f=$(null),v=$(null),m=$(null),a=$(null),c=$(null),d=$(null),y=$(null),h=$(null),b=$(null),q=$(null),z=$(null),T=$(null);let Y=!0,I=null,V=null,sr=[],X=null,F=null,yr=0;const fr=new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}),tr=R=>new Date(R.published).getFullYear(),ar=(R,P)=>{let S=P.createSVGPoint();window.TouchEvent&&R instanceof TouchEvent?(S.x=R.touches[0].clientX,S.y=R.touches[0].clientY):R instanceof MouseEvent&&(S.x=R.clientX,S.y=R.clientY);const U=P.getScreenCTM();return U?S.matrixTransform(U.inverse()):{x:0,y:0}},dr=(R,P,S,U)=>{const er=I(S[0]),Z=V(S[1]),J=I(U[0]),D=V(U[1]),C=J-er,Q=D-Z;if(C===0&&Q===0)return{point:S,distSq:(R-er)**2+(P-Z)**2};const ir=((R-er)*C+(P-Z)*Q)/(C*C+Q*Q),O=Math.max(0,Math.min(1,ir)),E=er+O*C,H=Z+O*Q,gr=I.invert(E),cr=V.invert(H);return{point:[gr,cr],distSq:(R-E)**2+(P-H)**2}},M=()=>{u.value&&(u.value.style.display="none"),f.value&&(f.value.style.display="none"),d.value&&(d.value.style.display="none"),y.value&&(y.value.style.display="none")},pr=(R,P,S,U)=>{const er=R===1?u:d,Z=R===1?f:y,J=R===1?v:h,D=R===1?m:b,C=R===1?a:q,Q=R===1?c:z;if(!er.value||!Z.value)return;er.value.style.display="block",Z.value.style.display="block";const ir=I(P[0]),O=V(P[1]),E={top:20,right:30,bottom:20,left:30},H=ir+E.left,gr=O+E.top;if(J.value&&(J.value.setAttribute("x1",H.toString()),J.value.setAttribute("x2",H.toString()),J.value.setAttribute("y1",E.top.toString()),J.value.setAttribute("y2",(400-E.bottom).toString())),D.value&&(D.value.setAttribute("cx",H.toString()),D.value.setAttribute("cy",gr.toString()),D.value.setAttribute("fill",U)),C.value&&Q.value){const cr=K(C.value),Er=fr.format(P[0]);let br=0;P[1]<=0?br=P[1]+yr:br=P[1],br=Math.round(br);const or=S?"(Projection)":"";cr.text(`${Er}: ${br} CVEs ${or}`);const W=C.value.getBBox(),_r=4;K(Q.value).attr("x",W.x-_r).attr("y",W.y-_r).attr("width",W.width+_r*2).attr("height",W.height+_r*2);let kr=H+10,vr=gr-10;kr>700&&(kr=H-W.width-20),vr<50&&(vr=gr+20),Z.value.setAttribute("transform",`translate(${kr}, ${vr})`)}},hr=R=>{if(!I||!V||sr.length===0||!l.value)return;const P=ar(R,l.value),S={top:20,right:30,bottom:20,left:30},U=P.x-S.left,er=P.y-S.top;let Z=null,J=1/0,D=!1;for(const C of sr){const Q=I(C[0]),ir=V(C[1]),O=Q-U,E=ir-er,H=O*O+E*E;H<J&&(J=H,Z=C,D=!1)}if(X&&X.length===2){const C=dr(U,er,X[0],X[1]);C.distSq<J&&(J=C.distSq,Z=C.point,D=!0)}if(F&&F.length===2){const C=dr(U,er,F[0],F[1]);C.distSq<J&&(J=C.distSq,Z=C.point,D=!0)}if(Z)if(D&&X&&F&&X.length===2&&F.length===2){const C=I.invert(U),Q=X[0],ir=X[1],O=I(Q[0]),E=V(Q[1]),H=I(ir[0]),gr=V(ir[1]),cr=Math.max(Math.min(U,Math.max(O,H)),Math.min(O,H)),Er=H-O!==0?(cr-O)/(H-O):0,br=E+Er*(gr-E),or=V.invert(br),W=[C,or],_r=F[0],kr=F[1],vr=I(_r[0]),Tr=V(_r[1]),zr=I(kr[0]),Nr=V(kr[1]),Vr=Math.max(Math.min(U,Math.max(vr,zr)),Math.min(vr,zr)),Pr=zr-vr!==0?(Vr-vr)/(zr-vr):0,Lr=Tr+Pr*(Nr-Tr),$r=V.invert(Lr);pr(1,[C,$r],!0,"#FFA500"),pr(2,W,!0,"#FFA500")}else pr(1,Z,!1,"blue"),d.value&&(d.value.style.display="none"),y.value&&(y.value.style.display="none")},qr=()=>{if(!l.value)return;const R=N.year,P=new Date(`${R-1}-01-01`),S=new Date(`${R}-01-01`),U=new Date(`${R+1}-01-01`),er=P,Z=U,J=N.data.filter(L=>{const rr=tr(L);return rr===R||rr===R-1}).map(L=>({...L,date:new Date(L.published)})).filter(L=>L.date>=er&&L.date<Z).sort((L,rr)=>L.date.getTime()-rr.date.getTime()),D=J.filter(L=>tr(L)===R-1).length;let C=J.map((L,rr)=>[L.date,rr+1-D]);if(C.length>0){const L=C[C.length-1],rr=L[0],xr=L[1],Qr=new Date;let Br=new Date(`${R}-12-31`);R===Qr.getFullYear()&&(Br=Qr),rr<Br&&C.push([Br,xr])}sr=C,yr=D;let Q=[],ir=[],O=0;if(C.length>0)if(N.projection){const L=C[C.length-1];Q=[L,[U,N.projection.low+.01]],ir=[L,[U,N.projection.high]],O=N.projection.high}else O=Math.max(...C.map(L=>L[1])),O<10&&(O=10);X=Q.length>0?Q:null,F=ir.length>0?ir:null,K(l.value);const E={top:20,right:30,bottom:20,left:30},H=800-E.left-E.right,gr=400-E.top-E.bottom,cr=rn().domain([new Date(`${R-2}-12-31`),new Date(`${R+1}-01-02`)]).range([0,H]),Er=C.length>0?C[0][1]:-D,br=Math.min(Er,-D),or=Gr().domain([br,O]).range([gr,0]);I=cr,V=or;const W=jr().duration(Y?0:500).ease(en);Y=!1;const _r=nn().x(L=>cr(L[0])).y(L=>or(L[1]));K(w.value).attr("style",`filter: url(#glow-${N.year});`).attr("fill","none").attr("stroke","blue").attr("transform",`translate(${E.left}, ${E.top})`).data([C]).transition(W).attrTween("d",function(L){const rr=K(this).attr("d")||"",xr=_r(L)||"";return Or(rr,xr)});const vr=K(g.value);N.projection?vr.attr("style",`filter: url(#glow-${N.year});`).attr("fill","none").attr("stroke","#FFA500").attr("transform",`translate(${E.left}, ${E.top})`).attr("stroke-dasharray","5,5").data([Q]).transition(W).attrTween("d",function(L){const rr=K(this).attr("d")||"",xr=_r(L)||"";return Or(rr,xr)}):vr.attr("d",null);const Tr=K(_.value);N.projection?Tr.attr("style",`filter: url(#glow-${N.year});`).attr("fill","none").attr("stroke","#FFA500").attr("transform",`translate(${E.left}, ${E.top})`).attr("stroke-dasharray","5,5").data([ir]).transition(W).attrTween("d",function(L){const rr=K(this).attr("d")||"",xr=_r(L)||"";return Or(rr,xr)}):Tr.attr("d",null);const zr=Gr().domain([0,D]).range([or(-D),or(0)]),Nr=Gr().domain([0,O]).range([or(0),or(O)]),Vr=K(p.value),Pr=K(t.value),Lr=K(r.value);Vr.transition(W).call(on(cr)),Vr.attr("transform",`translate(${E.left}, ${gr+E.top})`),Pr.transition(W).call(tn(zr)),Pr.attr("transform",`translate(${E.left}, ${E.top})`),Lr.transition(W).call(un(Nr)),Lr.attr("transform",`translate(${E.left+H}, ${E.top})`);const $r=cr(S);K(e.value).transition(W).attr("x1",$r).attr("x2",$r).attr("transform",`translate(${E.left}, ${E.top})`),K(n.value).transition(W).attr("y1",or(0)).attr("y2",or(0)).attr("x1",cr(er)).attr("x2",cr(Z)).attr("transform",`translate(${E.left}, ${E.top})`),K(o.value).transition(W).attr("y",or(0)),K(s.value).transition(W).attr("y",or(0)+19*3),T.value&&K(T.value).attr("x",E.left).attr("y",E.top).attr("width",H).attr("height",gr)};return Yr(()=>[N.data,N.year,N.totalPrevious],()=>{i.value&&requestAnimationFrame(()=>qr())},{deep:!0}),Yr(i,async R=>{R?(await ln(),requestAnimationFrame(()=>qr())):Y=!0}),Dr(()=>{const R=new IntersectionObserver(P=>{i.value=P[0].isIntersecting});k.value&&R.observe(k.value)}),(R,P)=>(A(),B("div",{ref_key:"container_ref",ref:k,class:"cve-progression-graph-container"},[G(i)?(A(),B("svg",{key:1,ref_key:"svg_ref",ref:l,viewBox:"0 0 800 400",onMouseleave:M,onMousemove:hr,onTouchmove:hr,onTouchstart:hr},[x("path",{ref_key:"svg_graph_projection_low_ref",ref:g},null,512),x("path",{ref_key:"svg_graph_projection_high_ref",ref:_},null,512),x("path",{ref_key:"svg_graph_ref",ref:w},null,512),x("g",{ref_key:"axis_x_ref",ref:p},null,512),x("g",{ref_key:"axis_y1_ref",ref:t},null,512),x("g",{ref_key:"axis_y2_ref",ref:r},null,512),x("g",null,[P[2]||(P[2]=x("rect",{x:"45",y:"10",width:"10",height:"10",fill:"blue"},null,-1)),P[3]||(P[3]=x("text",{x:"60",y:"20"},"Historical",-1)),R.projection?(A(),B(lr,{key:0},[P[0]||(P[0]=x("rect",{x:"45",y:"30",width:"10",height:"10",fill:"#FFA500"},null,-1)),P[1]||(P[1]=x("text",{x:"60",y:"40"},"Projection",-1))],64)):mr("",!0)]),x("line",{ref_key:"svg_year_split_vertical_ref",ref:e,y1:"0",y2:"380",stroke:"black","stroke-width":"1","stroke-dasharray":"5,5"},null,512),x("line",{ref_key:"svg_split_horizontal_ref",ref:n,x1:"30",x2:"770",y1:"190",y2:"190",stroke:"black","stroke-width":"1","stroke-dasharray":"5,5"},null,512),x("text",{ref_key:"previous_year_label_ref",ref:o,x:"200",y:"150",class:"previous_year_label","font-size":"19","font-weight":"bold",fill:"black","text-anchor":"middle"},nr(R.year-1),513),x("text",{ref_key:"current_year_label_ref",ref:s,x:"600",y:"150",class:"current_year_label","font-size":"19","font-weight":"bold",fill:"black","text-anchor":"middle"},nr(R.year),513),x("g",{ref_key:"tooltip_indicators_group_ref",ref:u,style:{display:"none","pointer-events":"none"}},[x("line",{ref_key:"tooltip_line_ref",ref:v,stroke:"black","stroke-width":"1","stroke-dasharray":"3,3",y1:"0",y2:"400"},null,512),x("circle",{ref_key:"tooltip_circle_ref",ref:m,r:"4",fill:"blue",stroke:"white","stroke-width":"2"},null,512)],512),x("g",{ref_key:"tooltip_label_group_ref",ref:f,style:{display:"none","pointer-events":"none"}},[x("rect",{ref_key:"tooltip_rect_bg_ref",ref:c,fill:"white",stroke:"#ccc",rx:"4",ry:"4","fill-opacity":"0.9"},null,512),x("text",{ref_key:"tooltip_text_ref",ref:a,"font-size":"12",fill:"black"},null,512)],512),x("g",{ref_key:"tooltip_indicators_group_ref_2",ref:d,style:{display:"none","pointer-events":"none"}},[x("line",{ref_key:"tooltip_line_ref_2",ref:h,stroke:"black","stroke-width":"1","stroke-dasharray":"3,3",y1:"0",y2:"400"},null,512),x("circle",{ref_key:"tooltip_circle_ref_2",ref:b,r:"4",fill:"blue",stroke:"white","stroke-width":"2"},null,512)],512),x("g",{ref_key:"tooltip_label_group_ref_2",ref:y,style:{display:"none","pointer-events":"none"}},[x("rect",{ref_key:"tooltip_rect_bg_ref_2",ref:z,fill:"white",stroke:"#ccc",rx:"4",ry:"4","fill-opacity":"0.9"},null,512),x("text",{ref_key:"tooltip_text_ref_2",ref:q,"font-size":"12",fill:"black"},null,512)],512),x("rect",{ref_key:"overlay_rect_ref",ref:T,fill:"transparent",x:"0",y:"0",width:"800",height:"400"},null,512),x("filter",{id:`glow-${R.year}`,x:"-50%",y:"-50%",width:"200%",height:"200%"},P[4]||(P[4]=[sn('<feGaussianBlur stdDeviation="13" result="coloredBlur" data-v-967a592a></feGaussianBlur><feGaussianBlur stdDeviation="5" result="coloredBlur2" data-v-967a592a></feGaussianBlur><feGaussianBlur stdDeviation="3" result="coloredBlur3" data-v-967a592a></feGaussianBlur><feMerge data-v-967a592a><feMergeNode in="coloredBlur" data-v-967a592a></feMergeNode><feMergeNode in="coloredBlur2" data-v-967a592a></feMergeNode><feMergeNode in="coloredBlur2" data-v-967a592a></feMergeNode><feMergeNode in="SourceGraphic" data-v-967a592a></feMergeNode></feMerge>',4)]),8,pn)],544)):(A(),B("div",dn))],512))}}),_n=Jr(gn,[["__scopeId","data-v-967a592a"]]),yn=Symbol.for("nuxt:client-only"),wn=Ur({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(Cr,{slots:N,attrs:k}){const i=$(!1);return Dr(()=>{i.value=!0}),fn(yn,!0),l=>{var p;if(i.value)return(p=N.default)==null?void 0:p.call(N);const w=N.fallback||N.placeholder;if(w)return w();const g=l.fallback||l.placeholder||"",_=l.fallbackTag||l.placeholderTag||"span";return B(_,k,g)}}});var Kr={exports:{}};(function(Cr,N){(function(k,i){Cr.exports=i()})(mn,function(){var k=function(i,l){var w=Array.prototype.concat,g=Array.prototype.slice,_=Object.prototype.toString;function p(m,a){var c=m>a?m:a;return i.pow(10,17-~~(i.log(c>0?c:-c)*i.LOG10E))}var t=Array.isArray||function(a){return _.call(a)==="[object Array]"};function r(m){return _.call(m)==="[object Function]"}function n(m){return typeof m=="number"?m-m===0:!1}function e(m){return w.apply([],m)}function o(){return new o._init(arguments)}o.fn=o.prototype,o._init=function(a){if(t(a[0]))if(t(a[0][0])){r(a[1])&&(a[0]=o.map(a[0],a[1]));for(var c=0;c<a[0].length;c++)this[c]=a[0][c];this.length=a[0].length}else this[0]=r(a[1])?o.map(a[0],a[1]):a[0],this.length=1;else if(n(a[0]))this[0]=o.seq.apply(null,a),this.length=1;else{if(a[0]instanceof o)return o(a[0].toArray());this[0]=[],this.length=1}return this},o._init.prototype=o.prototype,o._init.constructor=o,o.utils={calcRdx:p,isArray:t,isFunction:r,isNumber:n,toVector:e},o._random_fn=i.random,o.setRandom=function(a){if(typeof a!="function")throw new TypeError("fn is not a function");o._random_fn=a},o.extend=function(a){var c,d;if(arguments.length===1){for(d in a)o[d]=a[d];return this}for(c=1;c<arguments.length;c++)for(d in arguments[c])a[d]=arguments[c][d];return a},o.rows=function(a){return a.length||1},o.cols=function(a){return a[0].length||1},o.dimensions=function(a){return{rows:o.rows(a),cols:o.cols(a)}},o.row=function(a,c){return t(c)?c.map(function(d){return o.row(a,d)}):a[c]},o.rowa=function(a,c){return o.row(a,c)},o.col=function(a,c){if(t(c)){var d=o.arange(a.length).map(function(){return new Array(c.length)});return c.forEach(function(b,q){o.arange(a.length).forEach(function(z){d[z][q]=a[z][b]})}),d}for(var y=new Array(a.length),h=0;h<a.length;h++)y[h]=[a[h][c]];return y},o.cola=function(a,c){return o.col(a,c).map(function(d){return d[0]})},o.diag=function(a){for(var c=o.rows(a),d=new Array(c),y=0;y<c;y++)d[y]=[a[y][y]];return d},o.antidiag=function(a){for(var c=o.rows(a)-1,d=new Array(c),y=0;c>=0;c--,y++)d[y]=[a[y][c]];return d},o.transpose=function(a){var c=[],d,y,h,b,q;for(t(a[0])||(a=[a]),y=a.length,h=a[0].length,q=0;q<h;q++){for(d=new Array(y),b=0;b<y;b++)d[b]=a[b][q];c.push(d)}return c.length===1?c[0]:c},o.map=function(a,c,d){var y,h,b,q,z;for(t(a[0])||(a=[a]),h=a.length,b=a[0].length,q=d?a:new Array(h),y=0;y<h;y++)for(q[y]||(q[y]=new Array(b)),z=0;z<b;z++)q[y][z]=c(a[y][z],y,z);return q.length===1?q[0]:q},o.cumreduce=function(a,c,d){var y,h,b,q,z;for(t(a[0])||(a=[a]),h=a.length,b=a[0].length,q=d?a:new Array(h),y=0;y<h;y++)for(q[y]||(q[y]=new Array(b)),b>0&&(q[y][0]=a[y][0]),z=1;z<b;z++)q[y][z]=c(q[y][z-1],a[y][z]);return q.length===1?q[0]:q},o.alter=function(a,c){return o.map(a,c,!0)},o.create=function(a,c,d){var y=new Array(a),h,b;for(r(c)&&(d=c,c=a),h=0;h<a;h++)for(y[h]=new Array(c),b=0;b<c;b++)y[h][b]=d(h,b);return y};function s(){return 0}o.zeros=function(a,c){return n(c)||(c=a),o.create(a,c,s)};function u(){return 1}o.ones=function(a,c){return n(c)||(c=a),o.create(a,c,u)},o.rand=function(a,c){return n(c)||(c=a),o.create(a,c,o._random_fn)};function f(m,a){return m===a?1:0}o.identity=function(a,c){return n(c)||(c=a),o.create(a,c,f)},o.symmetric=function(a){var c=a.length,d,y;if(a.length!==a[0].length)return!1;for(d=0;d<c;d++)for(y=0;y<c;y++)if(a[y][d]!==a[d][y])return!1;return!0},o.clear=function(a){return o.alter(a,s)},o.seq=function(a,c,d,y){r(y)||(y=!1);var h=[],b=p(a,c),q=(c*b-a*b)/((d-1)*b),z=a,T;for(T=0;z<=c&&T<d;T++,z=(a*b+q*b*T)/b)h.push(y?y(z,T):z);return h},o.arange=function(a,c,d){var y=[],h;if(d=d||1,c===l&&(c=a,a=0),a===c||d===0)return[];if(a<c&&d<0)return[];if(a>c&&d>0)return[];if(d>0)for(h=a;h<c;h+=d)y.push(h);else for(h=a;h>c;h+=d)y.push(h);return y},o.slice=function(){function m(c,d,y,h){var b,q=[],z=c.length;if(d===l&&y===l&&h===l)return o.copy(c);if(d=d||0,y=y||c.length,d=d>=0?d:z+d,y=y>=0?y:z+y,h=h||1,d===y||h===0)return[];if(d<y&&h<0)return[];if(d>y&&h>0)return[];if(h>0)for(b=d;b<y;b+=h)q.push(c[b]);else for(b=d;b>y;b+=h)q.push(c[b]);return q}function a(c,d){var y,h;if(d=d||{},n(d.row)){if(n(d.col))return c[d.row][d.col];var b=o.rowa(c,d.row);return y=d.col||{},m(b,y.start,y.end,y.step)}if(n(d.col)){var q=o.cola(c,d.col);return h=d.row||{},m(q,h.start,h.end,h.step)}h=d.row||{},y=d.col||{};var z=m(c,h.start,h.end,h.step);return z.map(function(T){return m(T,y.start,y.end,y.step)})}return a}(),o.sliceAssign=function(a,c,d){var y,h;if(n(c.row)){if(n(c.col))return a[c.row][c.col]=d;c.col=c.col||{},c.col.start=c.col.start||0,c.col.end=c.col.end||a[0].length,c.col.step=c.col.step||1,y=o.arange(c.col.start,i.min(a.length,c.col.end),c.col.step);var b=c.row;return y.forEach(function(z,T){a[b][z]=d[T]}),a}if(n(c.col)){c.row=c.row||{},c.row.start=c.row.start||0,c.row.end=c.row.end||a.length,c.row.step=c.row.step||1,h=o.arange(c.row.start,i.min(a[0].length,c.row.end),c.row.step);var q=c.col;return h.forEach(function(z,T){a[z][q]=d[T]}),a}return d[0].length===l&&(d=[d]),c.row.start=c.row.start||0,c.row.end=c.row.end||a.length,c.row.step=c.row.step||1,c.col.start=c.col.start||0,c.col.end=c.col.end||a[0].length,c.col.step=c.col.step||1,h=o.arange(c.row.start,i.min(a.length,c.row.end),c.row.step),y=o.arange(c.col.start,i.min(a[0].length,c.col.end),c.col.step),h.forEach(function(z,T){y.forEach(function(Y,I){a[z][Y]=d[T][I]})}),a},o.diagonal=function(a){var c=o.zeros(a.length,a.length);return a.forEach(function(d,y){c[y][y]=d}),c},o.copy=function(a){return a.map(function(c){return n(c)?c:c.map(function(d){return d})})};var v=o.prototype;return v.length=0,v.push=Array.prototype.push,v.sort=Array.prototype.sort,v.splice=Array.prototype.splice,v.slice=Array.prototype.slice,v.toArray=function(){return this.length>1?g.call(this):g.call(this)[0]},v.map=function(a,c){return o(o.map(this,a,c))},v.cumreduce=function(a,c){return o(o.cumreduce(this,a,c))},v.alter=function(a){return o.alter(this,a),this},function(m){for(var a=0;a<m.length;a++)(function(c){v[c]=function(d){var y=this,h;return d?(setTimeout(function(){d.call(y,v[c].call(y))}),this):(h=o[c](this),t(h)?o(h):h)}})(m[a])}("transpose clear symmetric rows cols dimensions diag antidiag".split(" ")),function(m){for(var a=0;a<m.length;a++)(function(c){v[c]=function(d,y){var h=this;return y?(setTimeout(function(){y.call(h,v[c].call(h,d))}),this):o(o[c](this,d))}})(m[a])}("row col".split(" ")),function(m){for(var a=0;a<m.length;a++)(function(c){v[c]=function(){return o(o[c].apply(null,arguments))}})(m[a])}("create zeros ones rand identity".split(" ")),o}(Math);return function(i,l){var w=i.utils.isFunction;function g(t,r){return t-r}function _(t,r,n){return l.max(r,l.min(t,n))}i.sum=function(r){for(var n=0,e=r.length;--e>=0;)n+=r[e];return n},i.sumsqrd=function(r){for(var n=0,e=r.length;--e>=0;)n+=r[e]*r[e];return n},i.sumsqerr=function(r){for(var n=i.mean(r),e=0,o=r.length,s;--o>=0;)s=r[o]-n,e+=s*s;return e},i.sumrow=function(r){for(var n=0,e=r.length;--e>=0;)n+=r[e];return n},i.product=function(r){for(var n=1,e=r.length;--e>=0;)n*=r[e];return n},i.min=function(r){for(var n=r[0],e=0;++e<r.length;)r[e]<n&&(n=r[e]);return n},i.max=function(r){for(var n=r[0],e=0;++e<r.length;)r[e]>n&&(n=r[e]);return n},i.unique=function(r){for(var n={},e=[],o=0;o<r.length;o++)n[r[o]]||(n[r[o]]=!0,e.push(r[o]));return e},i.mean=function(r){return i.sum(r)/r.length},i.meansqerr=function(r){return i.sumsqerr(r)/r.length},i.geomean=function(r){var n=r.map(l.log),e=i.mean(n);return l.exp(e)},i.median=function(r){var n=r.length,e=r.slice().sort(g);return n&1?e[n/2|0]:(e[n/2-1]+e[n/2])/2},i.cumsum=function(r){return i.cumreduce(r,function(n,e){return n+e})},i.cumprod=function(r){return i.cumreduce(r,function(n,e){return n*e})},i.diff=function(r){var n=[],e=r.length,o;for(o=1;o<e;o++)n.push(r[o]-r[o-1]);return n},i.rank=function(t){var r,n=[],e={};for(r=0;r<t.length;r++){var o=t[r];e[o]?e[o]++:(e[o]=1,n.push(o))}var s=n.sort(g),u={},f=1;for(r=0;r<s.length;r++){var o=s[r],v=e[o],m=f,a=f+v-1,c=(m+a)/2;u[o]=c,f+=v}return t.map(function(d){return u[d]})},i.mode=function(r){var n=r.length,e=r.slice().sort(g),o=1,s=0,u=0,f=[],v;for(v=0;v<n;v++)e[v]===e[v+1]?o++:(o>s?(f=[e[v]],s=o,u=0):o===s&&(f.push(e[v]),u++),o=1);return u===0?f[0]:f},i.range=function(r){return i.max(r)-i.min(r)},i.variance=function(r,n){return i.sumsqerr(r)/(r.length-(n?1:0))},i.pooledvariance=function(r){var n=r.reduce(function(o,s){return o+i.sumsqerr(s)},0),e=r.reduce(function(o,s){return o+s.length},0);return n/(e-r.length)},i.deviation=function(t){for(var r=i.mean(t),n=t.length,e=new Array(n),o=0;o<n;o++)e[o]=t[o]-r;return e},i.stdev=function(r,n){return l.sqrt(i.variance(r,n))},i.pooledstdev=function(r){return l.sqrt(i.pooledvariance(r))},i.meandev=function(r){for(var n=i.mean(r),e=[],o=r.length-1;o>=0;o--)e.push(l.abs(r[o]-n));return i.mean(e)},i.meddev=function(r){for(var n=i.median(r),e=[],o=r.length-1;o>=0;o--)e.push(l.abs(r[o]-n));return i.median(e)},i.coeffvar=function(r){return i.stdev(r)/i.mean(r)},i.quartiles=function(r){var n=r.length,e=r.slice().sort(g);return[e[l.round(n/4)-1],e[l.round(n/2)-1],e[l.round(n*3/4)-1]]},i.quantiles=function(r,n,e,o){var s=r.slice().sort(g),u=[n.length],f=r.length,v,m,a,c,d,y;for(typeof e>"u"&&(e=3/8),typeof o>"u"&&(o=3/8),v=0;v<n.length;v++)m=n[v],a=e+m*(1-e-o),c=f*m+a,d=l.floor(_(c,1,f-1)),y=_(c-d,0,1),u[v]=(1-y)*s[d-1]+y*s[d];return u},i.percentile=function(r,n,e){var o=r.slice().sort(g),s=n*(o.length+(e?1:-1))+(e?0:1),u=parseInt(s),f=s-u;return u+1<o.length?o[u-1]+f*(o[u]-o[u-1]):o[u-1]},i.percentileOfScore=function(r,n,e){var o=0,s=r.length,u=!1,f,v;for(e==="strict"&&(u=!0),v=0;v<s;v++)f=r[v],(u&&f<n||!u&&f<=n)&&o++;return o/s},i.histogram=function(r,n){n=n||4;var e=i.min(r),o=(i.max(r)-e)/n,s=r.length,u=[],f;for(f=0;f<n;f++)u[f]=0;for(f=0;f<s;f++)u[l.min(l.floor((r[f]-e)/o),n-1)]+=1;return u},i.covariance=function(r,n){var e=i.mean(r),o=i.mean(n),s=r.length,u=new Array(s),f;for(f=0;f<s;f++)u[f]=(r[f]-e)*(n[f]-o);return i.sum(u)/(s-1)},i.corrcoeff=function(r,n){return i.covariance(r,n)/i.stdev(r,1)/i.stdev(n,1)},i.spearmancoeff=function(t,r){return t=i.rank(t),r=i.rank(r),i.corrcoeff(t,r)},i.stanMoment=function(r,n){for(var e=i.mean(r),o=i.stdev(r),s=r.length,u=0,f=0;f<s;f++)u+=l.pow((r[f]-e)/o,n);return u/r.length},i.skewness=function(r){return i.stanMoment(r,3)},i.kurtosis=function(r){return i.stanMoment(r,4)-3};var p=i.prototype;(function(t){for(var r=0;r<t.length;r++)(function(n){p[n]=function(e,o){var s=[],u=0,f=this;if(w(e)&&(o=e,e=!1),o)return setTimeout(function(){o.call(f,p[n].call(f,e))}),this;if(this.length>1){for(f=e===!0?this:this.transpose();u<f.length;u++)s[u]=i[n](f[u]);return s}return i[n](this[0],e)}})(t[r])})("cumsum cumprod".split(" ")),function(t){for(var r=0;r<t.length;r++)(function(n){p[n]=function(e,o){var s=[],u=0,f=this;if(w(e)&&(o=e,e=!1),o)return setTimeout(function(){o.call(f,p[n].call(f,e))}),this;if(this.length>1){for(n!=="sumrow"&&(f=e===!0?this:this.transpose());u<f.length;u++)s[u]=i[n](f[u]);return e===!0?i[n](i.utils.toVector(s)):s}return i[n](this[0],e)}})(t[r])}("sum sumsqrd sumsqerr sumrow product min max unique mean meansqerr geomean median diff rank mode range variance deviation stdev meandev meddev coeffvar quartiles histogram skewness kurtosis".split(" ")),function(t){for(var r=0;r<t.length;r++)(function(n){p[n]=function(){var e=[],o=0,s=this,u=Array.prototype.slice.call(arguments),f;if(w(u[u.length-1])){f=u[u.length-1];var v=u.slice(0,u.length-1);return setTimeout(function(){f.call(s,p[n].apply(s,v))}),this}else{f=void 0;var m=function(c){return i[n].apply(s,[c].concat(u))}}if(this.length>1){for(s=s.transpose();o<s.length;o++)e[o]=m(s[o]);return e}return m(this[0])}})(t[r])}("quantiles percentileOfScore".split(" "))}(k,Math),function(i,l){i.gammaln=function(g){var _=0,p=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],t=1.000000000190015,r,n,e;for(e=(n=r=g)+5.5,e-=(r+.5)*l.log(e);_<6;_++)t+=p[_]/++n;return l.log(2.5066282746310007*t/r)-e},i.loggam=function(g){var _,p,t,r,n,e,o,s=[.08333333333333333,-.002777777777777778,.0007936507936507937,-.0005952380952380952,.0008417508417508418,-.001917526917526918,.00641025641025641,-.02955065359477124,.1796443723688307,-1.3924322169059];if(_=g,o=0,g==1||g==2)return 0;for(g<=7&&(o=l.floor(7-g),_=g+o),p=1/(_*_),t=2*l.PI,n=s[9],e=8;e>=0;e--)n*=p,n+=s[e];if(r=n/_+.5*l.log(t)+(_-.5)*l.log(_)-_,g<=7)for(e=1;e<=o;e++)r-=l.log(_-1),_-=1;return r},i.gammafn=function(g){var _=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],p=[-30.8402300119739,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.2596755535],t=!1,r=0,n=0,e=0,o=g,s,u,f,v;if(g>171.6243769536076)return 1/0;if(o<=0)if(v=o%1+36e-17,v)t=(o&1?-1:1)*l.PI/l.sin(l.PI*v),o=1-o;else return 1/0;for(f=o,o<1?u=o++:u=(o-=r=(o|0)-1)-1,s=0;s<8;++s)e=(e+_[s])*u,n=n*u+p[s];if(v=e/n+1,f<o)v/=f;else if(f>o)for(s=0;s<r;++s)v*=o,o++;return t&&(v=t/v),v},i.gammap=function(g,_){return i.lowRegGamma(g,_)*i.gammafn(g)},i.lowRegGamma=function(g,_){var p=i.gammaln(g),t=g,r=1/g,n=r,e=_+1-g,o=1/1e-30,s=1/e,u=s,f=1,v=-~(l.log(g>=1?g:1/g)*8.5+g*.4+17),m;if(_<0||g<=0)return NaN;if(_<g+1){for(;f<=v;f++)r+=n*=_/++t;return r*l.exp(-_+g*l.log(_)-p)}for(;f<=v;f++)m=-f*(f-g),e+=2,s=m*s+e,o=e+m/o,s=1/s,u*=s*o;return 1-u*l.exp(-_+g*l.log(_)-p)},i.factorialln=function(g){return g<0?NaN:i.gammaln(g+1)},i.factorial=function(g){return g<0?NaN:i.gammafn(g+1)},i.combination=function(g,_){return g>170||_>170?l.exp(i.combinationln(g,_)):i.factorial(g)/i.factorial(_)/i.factorial(g-_)},i.combinationln=function(g,_){return i.factorialln(g)-i.factorialln(_)-i.factorialln(g-_)},i.permutation=function(g,_){return i.factorial(g)/i.factorial(g-_)},i.betafn=function(g,_){if(!(g<=0||_<=0))return g+_>170?l.exp(i.betaln(g,_)):i.gammafn(g)*i.gammafn(_)/i.gammafn(g+_)},i.betaln=function(g,_){return i.gammaln(g)+i.gammaln(_)-i.gammaln(g+_)},i.betacf=function(g,_,p){var t=1e-30,r=1,n=_+p,e=_+1,o=_-1,s=1,u=1-n*g/e,f,v,m,a;for(l.abs(u)<t&&(u=t),u=1/u,a=u;r<=100&&(f=2*r,v=r*(p-r)*g/((o+f)*(_+f)),u=1+v*u,l.abs(u)<t&&(u=t),s=1+v/s,l.abs(s)<t&&(s=t),u=1/u,a*=u*s,v=-(_+r)*(n+r)*g/((_+f)*(e+f)),u=1+v*u,l.abs(u)<t&&(u=t),s=1+v/s,l.abs(s)<t&&(s=t),u=1/u,m=u*s,a*=m,!(l.abs(m-1)<3e-7));r++);return a},i.gammapinv=function(g,_){var p=0,t=_-1,r=1e-8,n=i.gammaln(_),e,o,s,u,f,v,m;if(g>=1)return l.max(100,_+100*l.sqrt(_));if(g<=0)return 0;for(_>1?(v=l.log(t),m=l.exp(t*(v-1)-n),f=g<.5?g:1-g,s=l.sqrt(-2*l.log(f)),e=(2.30753+s*.27061)/(1+s*(.99229+s*.04481))-s,g<.5&&(e=-e),e=l.max(.001,_*l.pow(1-1/(9*_)-e/(3*l.sqrt(_)),3))):(s=1-_*(.253+_*.12),g<s?e=l.pow(g/s,1/_):e=1-l.log(1-(g-s)/(1-s)));p<12;p++){if(e<=0)return 0;if(o=i.lowRegGamma(_,e)-g,_>1?s=m*l.exp(-(e-t)+t*(l.log(e)-v)):s=l.exp(-e+t*l.log(e)-n),u=o/s,e-=s=u/(1-.5*l.min(1,u*((_-1)/e-1))),e<=0&&(e=.5*(e+s)),l.abs(s)<r*e)break}return e},i.erf=function(g){var _=[-1.3026537197817094,.6419697923564902,.019476473204185836,-.00956151478680863,-.000946595344482036,.000366839497852761,42523324806907e-18,-20278578112534e-18,-1624290004647e-18,130365583558e-17,15626441722e-18,-85238095915e-18,6529054439e-18,5059343495e-18,-991364156e-18,-227365122e-18,96467911e-18,2394038e-18,-6886027e-18,894487e-18,313092e-18,-112708e-18,381e-18,7106e-18,-1523e-18,-94e-18,121e-18,-28e-18],p=_.length-1,t=!1,r=0,n=0,e,o,s,u;for(g<0&&(g=-g,t=!0),e=2/(2+g),o=4*e-2;p>0;p--)s=r,r=o*r-n+_[p],n=s;return u=e*l.exp(-g*g+.5*(_[0]+o*r)-n),t?u-1:1-u},i.erfc=function(g){return 1-i.erf(g)},i.erfcinv=function(g){var _=0,p,t,r,n;if(g>=2)return-100;if(g<=0)return 100;for(n=g<1?g:2-g,r=l.sqrt(-2*l.log(n/2)),p=-.70711*((2.30753+r*.27061)/(1+r*(.99229+r*.04481))-r);_<2;_++)t=i.erfc(p)-n,p+=t/(1.1283791670955126*l.exp(-p*p)-p*t);return g<1?p:-p},i.ibetainv=function(g,_,p){var t=1e-8,r=_-1,n=p-1,e=0,o,s,u,f,v,m,a,c,d,y,h;if(g<=0)return 0;if(g>=1)return 1;for(_>=1&&p>=1?(u=g<.5?g:1-g,f=l.sqrt(-2*l.log(u)),a=(2.30753+f*.27061)/(1+f*(.99229+f*.04481))-f,g<.5&&(a=-a),c=(a*a-3)/6,d=2/(1/(2*_-1)+1/(2*p-1)),y=a*l.sqrt(c+d)/d-(1/(2*p-1)-1/(2*_-1))*(c+5/6-2/(3*d)),a=_/(_+p*l.exp(2*y))):(o=l.log(_/(_+p)),s=l.log(p/(_+p)),f=l.exp(_*o)/_,v=l.exp(p*s)/p,y=f+v,g<f/y?a=l.pow(_*y*g,1/_):a=1-l.pow(p*y*(1-g),1/p)),h=-i.gammaln(_)-i.gammaln(p)+i.gammaln(_+p);e<10;e++){if(a===0||a===1)return a;if(m=i.ibeta(a,_,p)-g,f=l.exp(r*l.log(a)+n*l.log(1-a)+h),v=m/f,a-=f=v/(1-.5*l.min(1,v*(r/a-n/(1-a)))),a<=0&&(a=.5*(a+f)),a>=1&&(a=.5*(a+f+1)),l.abs(f)<t*a&&e>0)break}return a},i.ibeta=function(g,_,p){var t=g===0||g===1?0:l.exp(i.gammaln(_+p)-i.gammaln(_)-i.gammaln(p)+_*l.log(g)+p*l.log(1-g));return g<0||g>1?!1:g<(_+1)/(_+p+2)?t*i.betacf(g,_,p)/_:1-t*i.betacf(1-g,p,_)/p},i.randn=function(g,_){var p,t,r,n,e;if(_||(_=g),g)return i.create(g,_,function(){return i.randn()});do p=i._random_fn(),t=1.7156*(i._random_fn()-.5),r=p-.449871,n=l.abs(t)+.386595,e=r*r+n*(.196*n-.25472*r);while(e>.27597&&(e>.27846||t*t>-4*l.log(p)*p*p));return t/p},i.randg=function(g,_,p){var t=g,r,n,e,o,s,u;if(p||(p=_),g||(g=1),_)return u=i.zeros(_,p),u.alter(function(){return i.randg(g)}),u;g<1&&(g+=1),r=g-1/3,n=1/l.sqrt(9*r);do{do s=i.randn(),o=1+n*s;while(o<=0);o=o*o*o,e=i._random_fn()}while(e>1-.331*l.pow(s,4)&&l.log(e)>.5*s*s+r*(1-o+l.log(o)));if(g==t)return r*o;do e=i._random_fn();while(e===0);return l.pow(e,1/t)*r*o},function(w){for(var g=0;g<w.length;g++)(function(_){i.fn[_]=function(){return i(i.map(this,function(p){return i[_](p)}))}})(w[g])}("gammaln gammafn factorial factorialln".split(" ")),function(w){for(var g=0;g<w.length;g++)(function(_){i.fn[_]=function(){return i(i[_].apply(null,arguments))}})(w[g])}("randn".split(" "))}(k,Math),function(i,l){(function(t){for(var r=0;r<t.length;r++)(function(n){i[n]=function e(o,s,u){return this instanceof e?(this._a=o,this._b=s,this._c=u,this):new e(o,s,u)},i.fn[n]=function(e,o,s){var u=i[n](e,o,s);return u.data=this,u},i[n].prototype.sample=function(e){var o=this._a,s=this._b,u=this._c;return e?i.alter(e,function(){return i[n].sample(o,s,u)}):i[n].sample(o,s,u)},function(e){for(var o=0;o<e.length;o++)(function(s){i[n].prototype[s]=function(u){var f=this._a,v=this._b,m=this._c;return!u&&u!==0&&(u=this.data),typeof u!="number"?i.fn.map.call(u,function(a){return i[n][s](a,f,v,m)}):i[n][s](u,f,v,m)}})(e[o])}("pdf cdf inv".split(" ")),function(e){for(var o=0;o<e.length;o++)(function(s){i[n].prototype[s]=function(){return i[n][s](this._a,this._b,this._c)}})(e[o])}("mean median mode variance".split(" "))})(t[r])})("beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy laplace lognormal noncentralt normal pareto studentt weibull uniform binomial negbin hypgeom poisson triangular tukey arcsine".split(" ")),i.extend(i.beta,{pdf:function(r,n,e){return r>1||r<0?0:n==1&&e==1?1:n<512&&e<512?l.pow(r,n-1)*l.pow(1-r,e-1)/i.betafn(n,e):l.exp((n-1)*l.log(r)+(e-1)*l.log(1-r)-i.betaln(n,e))},cdf:function(r,n,e){return r>1||r<0?(r>1)*1:i.ibeta(r,n,e)},inv:function(r,n,e){return i.ibetainv(r,n,e)},mean:function(r,n){return r/(r+n)},median:function(r,n){return i.ibetainv(.5,r,n)},mode:function(r,n){return(r-1)/(r+n-2)},sample:function(r,n){var e=i.randg(r);return e/(e+i.randg(n))},variance:function(r,n){return r*n/(l.pow(r+n,2)*(r+n+1))}}),i.extend(i.centralF,{pdf:function(r,n,e){var o,s,u;return r<0?0:n<=2?r===0&&n<2?1/0:r===0&&n===2?1:1/i.betafn(n/2,e/2)*l.pow(n/e,n/2)*l.pow(r,n/2-1)*l.pow(1+n/e*r,-(n+e)/2):(o=n*r/(e+r*n),s=e/(e+r*n),u=n*s/2,u*i.binomial.pdf((n-2)/2,(n+e-2)/2,o))},cdf:function(r,n,e){return r<0?0:i.ibeta(n*r/(n*r+e),n/2,e/2)},inv:function(r,n,e){return e/(n*(1/i.ibetainv(r,n/2,e/2)-1))},mean:function(r,n){return n>2?n/(n-2):void 0},mode:function(r,n){return r>2?n*(r-2)/(r*(n+2)):void 0},sample:function(r,n){var e=i.randg(r/2)*2,o=i.randg(n/2)*2;return e/r/(o/n)},variance:function(r,n){if(!(n<=4))return 2*n*n*(r+n-2)/(r*(n-2)*(n-2)*(n-4))}}),i.extend(i.cauchy,{pdf:function(r,n,e){return e<0?0:e/(l.pow(r-n,2)+l.pow(e,2))/l.PI},cdf:function(r,n,e){return l.atan((r-n)/e)/l.PI+.5},inv:function(t,r,n){return r+n*l.tan(l.PI*(t-.5))},median:function(r){return r},mode:function(r){return r},sample:function(r,n){return i.randn()*l.sqrt(1/(2*i.randg(.5)))*n+r}}),i.extend(i.chisquare,{pdf:function(r,n){return r<0?0:r===0&&n===2?.5:l.exp((n/2-1)*l.log(r)-r/2-n/2*l.log(2)-i.gammaln(n/2))},cdf:function(r,n){return r<0?0:i.lowRegGamma(n/2,r/2)},inv:function(t,r){return 2*i.gammapinv(t,.5*r)},mean:function(t){return t},median:function(r){return r*l.pow(1-2/(9*r),3)},mode:function(r){return r-2>0?r-2:0},sample:function(r){return i.randg(r/2)*2},variance:function(r){return 2*r}}),i.extend(i.exponential,{pdf:function(r,n){return r<0?0:n*l.exp(-n*r)},cdf:function(r,n){return r<0?0:1-l.exp(-n*r)},inv:function(t,r){return-l.log(1-t)/r},mean:function(t){return 1/t},median:function(t){return 1/t*l.log(2)},mode:function(){return 0},sample:function(r){return-1/r*l.log(i._random_fn())},variance:function(t){return l.pow(t,-2)}}),i.extend(i.gamma,{pdf:function(r,n,e){return r<0?0:r===0&&n===1?1/e:l.exp((n-1)*l.log(r)-r/e-i.gammaln(n)-n*l.log(e))},cdf:function(r,n,e){return r<0?0:i.lowRegGamma(n,r/e)},inv:function(t,r,n){return i.gammapinv(t,r)*n},mean:function(t,r){return t*r},mode:function(r,n){if(r>1)return(r-1)*n},sample:function(r,n){return i.randg(r)*n},variance:function(r,n){return r*n*n}}),i.extend(i.invgamma,{pdf:function(r,n,e){return r<=0?0:l.exp(-(n+1)*l.log(r)-e/r-i.gammaln(n)+n*l.log(e))},cdf:function(r,n,e){return r<=0?0:1-i.lowRegGamma(n,e/r)},inv:function(t,r,n){return n/i.gammapinv(1-t,r)},mean:function(t,r){return t>1?r/(t-1):void 0},mode:function(r,n){return n/(r+1)},sample:function(r,n){return n/i.randg(r)},variance:function(r,n){if(!(r<=2))return n*n/((r-1)*(r-1)*(r-2))}}),i.extend(i.kumaraswamy,{pdf:function(r,n,e){return r===0&&n===1?e:r===1&&e===1?n:l.exp(l.log(n)+l.log(e)+(n-1)*l.log(r)+(e-1)*l.log(1-l.pow(r,n)))},cdf:function(r,n,e){return r<0?0:r>1?1:1-l.pow(1-l.pow(r,n),e)},inv:function(r,n,e){return l.pow(1-l.pow(1-r,1/e),1/n)},mean:function(t,r){return r*i.gammafn(1+1/t)*i.gammafn(r)/i.gammafn(1+1/t+r)},median:function(r,n){return l.pow(1-l.pow(2,-1/n),1/r)},mode:function(r,n){if(r>=1&&n>=1&&r!==1&&n!==1)return l.pow((r-1)/(r*n-1),1/r)},variance:function(){throw new Error("variance not yet implemented")}}),i.extend(i.lognormal,{pdf:function(r,n,e){return r<=0?0:l.exp(-l.log(r)-.5*l.log(2*l.PI)-l.log(e)-l.pow(l.log(r)-n,2)/(2*e*e))},cdf:function(r,n,e){return r<0?0:.5+.5*i.erf((l.log(r)-n)/l.sqrt(2*e*e))},inv:function(t,r,n){return l.exp(-1.4142135623730951*n*i.erfcinv(2*t)+r)},mean:function(r,n){return l.exp(r+n*n/2)},median:function(r){return l.exp(r)},mode:function(r,n){return l.exp(r-n*n)},sample:function(r,n){return l.exp(i.randn()*n+r)},variance:function(r,n){return(l.exp(n*n)-1)*l.exp(2*r+n*n)}}),i.extend(i.noncentralt,{pdf:function(r,n,e){var o=1e-14;return l.abs(e)<o?i.studentt.pdf(r,n):l.abs(r)<o?l.exp(i.gammaln((n+1)/2)-e*e/2-.5*l.log(l.PI*n)-i.gammaln(n/2)):n/r*(i.noncentralt.cdf(r*l.sqrt(1+2/n),n+2,e)-i.noncentralt.cdf(r,n,e))},cdf:function(r,n,e){var o=1e-14,s=200;if(l.abs(e)<o)return i.studentt.cdf(r,n);var u=!1;r<0&&(u=!0,e=-e);for(var f=i.normal.cdf(-e,0,1),v=o+1,m=v,a=r*r/(r*r+n),c=0,d=l.exp(-e*e/2),y=l.exp(-e*e/2-.5*l.log(2)-i.gammaln(3/2))*e;c<s||m>o||v>o;)m=v,c>0&&(d*=e*e/(2*c),y*=e*e/(2*(c+1/2))),v=d*i.beta.cdf(a,c+.5,n/2)+y*i.beta.cdf(a,c+1,n/2),f+=.5*v,c++;return u?1-f:f}}),i.extend(i.normal,{pdf:function(r,n,e){return l.exp(-.5*l.log(2*l.PI)-l.log(e)-l.pow(r-n,2)/(2*e*e))},cdf:function(r,n,e){return .5*(1+i.erf((r-n)/l.sqrt(2*e*e)))},inv:function(t,r,n){return-1.4142135623730951*n*i.erfcinv(2*t)+r},mean:function(t){return t},median:function(r){return r},mode:function(t){return t},sample:function(r,n){return i.randn()*n+r},variance:function(t,r){return r*r}}),i.extend(i.pareto,{pdf:function(r,n,e){return r<n?0:e*l.pow(n,e)/l.pow(r,e+1)},cdf:function(r,n,e){return r<n?0:1-l.pow(n/r,e)},inv:function(r,n,e){return n/l.pow(1-r,1/e)},mean:function(r,n){if(!(n<=1))return n*l.pow(r,n)/(n-1)},median:function(r,n){return r*(n*l.SQRT2)},mode:function(r){return r},variance:function(t,r){if(!(r<=2))return t*t*r/(l.pow(r-1,2)*(r-2))}}),i.extend(i.studentt,{pdf:function(r,n){return n=n>1e100?1e100:n,1/(l.sqrt(n)*i.betafn(.5,n/2))*l.pow(1+r*r/n,-((n+1)/2))},cdf:function(r,n){var e=n/2;return i.ibeta((r+l.sqrt(r*r+n))/(2*l.sqrt(r*r+n)),e,e)},inv:function(t,r){var n=i.ibetainv(2*l.min(t,1-t),.5*r,.5);return n=l.sqrt(r*(1-n)/n),t>.5?n:-n},mean:function(r){return r>1?0:void 0},median:function(){return 0},mode:function(){return 0},sample:function(r){return i.randn()*l.sqrt(r/(2*i.randg(r/2)))},variance:function(r){return r>2?r/(r-2):r>1?1/0:void 0}}),i.extend(i.weibull,{pdf:function(r,n,e){return r<0||n<0||e<0?0:e/n*l.pow(r/n,e-1)*l.exp(-l.pow(r/n,e))},cdf:function(r,n,e){return r<0?0:1-l.exp(-l.pow(r/n,e))},inv:function(t,r,n){return r*l.pow(-l.log(1-t),1/n)},mean:function(t,r){return t*i.gammafn(1+1/r)},median:function(r,n){return r*l.pow(l.log(2),1/n)},mode:function(r,n){return n<=1?0:r*l.pow((n-1)/n,1/n)},sample:function(r,n){return r*l.pow(-l.log(i._random_fn()),1/n)},variance:function(r,n){return r*r*i.gammafn(1+2/n)-l.pow(i.weibull.mean(r,n),2)}}),i.extend(i.uniform,{pdf:function(r,n,e){return r<n||r>e?0:1/(e-n)},cdf:function(r,n,e){return r<n?0:r<e?(r-n)/(e-n):1},inv:function(t,r,n){return r+t*(n-r)},mean:function(r,n){return .5*(r+n)},median:function(r,n){return i.mean(r,n)},mode:function(){throw new Error("mode is not yet implemented")},sample:function(r,n){return r/2+n/2+(n/2-r/2)*(2*i._random_fn()-1)},variance:function(r,n){return l.pow(n-r,2)/12}});function w(t,r,n,e){for(var o=0,s=1,u=1,f=1,v=0,m=0,a;l.abs((u-m)/u)>e;)m=u,a=-(r+v)*(r+n+v)*t/(r+2*v)/(r+2*v+1),o=u+a*o,s=f+a*s,v=v+1,a=v*(n-v)*t/(r+2*v-1)/(r+2*v),u=o+a*u,f=s+a*f,o=o/f,s=s/f,u=u/f,f=1;return u/r}i.extend(i.binomial,{pdf:function(r,n,e){return e===0||e===1?n*e===r?1:0:i.combination(n,r)*l.pow(e,r)*l.pow(1-e,n-r)},cdf:function(r,n,e){var o,s=1e-10;if(r<0)return 0;if(r>=n)return 1;if(e<0||e>1||n<=0)return NaN;r=l.floor(r);var u=e,f=r+1,v=n-r,m=f+v,a=l.exp(i.gammaln(m)-i.gammaln(v)-i.gammaln(f)+f*l.log(u)+v*l.log(1-u));return u<(f+1)/(m+2)?o=a*w(u,f,v,s):o=1-a*w(1-u,v,f,s),l.round((1-o)*(1/s))/(1/s)}}),i.extend(i.negbin,{pdf:function(r,n,e){return r!==r>>>0?!1:r<0?0:i.combination(r+n-1,n-1)*l.pow(1-e,r)*l.pow(e,n)},cdf:function(r,n,e){var o=0,s=0;if(r<0)return 0;for(;s<=r;s++)o+=i.negbin.pdf(s,n,e);return o}}),i.extend(i.hypgeom,{pdf:function(r,n,e,o){if(r!==r|0)return!1;if(r<0||r<e-(n-o))return 0;if(r>o||r>e)return 0;if(e*2>n)return o*2>n?i.hypgeom.pdf(n-e-o+r,n,n-e,n-o):i.hypgeom.pdf(o-r,n,n-e,o);if(o*2>n)return i.hypgeom.pdf(e-r,n,e,n-o);if(e<o)return i.hypgeom.pdf(r,n,o,e);for(var s=1,u=0,f=0;f<r;f++){for(;s>1&&u<o;)s*=1-e/(n-u),u++;s*=(o-f)*(e-f)/((f+1)*(n-e-o+f+1))}for(;u<o;u++)s*=1-e/(n-u);return l.min(1,l.max(0,s))},cdf:function(r,n,e,o){if(r<0||r<e-(n-o))return 0;if(r>=o||r>=e)return 1;if(e*2>n)return o*2>n?i.hypgeom.cdf(n-e-o+r,n,n-e,n-o):1-i.hypgeom.cdf(o-r-1,n,n-e,o);if(o*2>n)return 1-i.hypgeom.cdf(e-r-1,n,e,n-o);if(e<o)return i.hypgeom.cdf(r,n,o,e);for(var s=1,u=1,f=0,v=0;v<r;v++){for(;s>1&&f<o;){var m=1-e/(n-f);u*=m,s*=m,f++}u*=(o-v)*(e-v)/((v+1)*(n-e-o+v+1)),s+=u}for(;f<o;f++)s*=1-e/(n-f);return l.min(1,l.max(0,s))}}),i.extend(i.poisson,{pdf:function(r,n){return n<0||r%1!==0||r<0?0:l.pow(n,r)*l.exp(-n)/i.factorial(r)},cdf:function(r,n){var e=[],o=0;if(r<0)return 0;for(;o<=r;o++)e.push(i.poisson.pdf(o,n));return i.sum(e)},mean:function(t){return t},variance:function(t){return t},sampleSmall:function(r){var n=1,e=0,o=l.exp(-r);do e++,n*=i._random_fn();while(n>o);return e-1},sampleLarge:function(r){var n=r,e,o,s,u,f,v,m,a,c,d;for(u=l.sqrt(n),f=l.log(n),m=.931+2.53*u,v=-.059+.02483*m,a=1.1239+1.1328/(m-3.4),c=.9277-3.6224/(m-2);;){if(o=l.random()-.5,s=l.random(),d=.5-l.abs(o),e=l.floor((2*v/d+m)*o+n+.43),d>=.07&&s<=c)return e;if(!(e<0||d<.013&&s>d)&&l.log(s)+l.log(a)-l.log(v/(d*d)+m)<=-n+e*f-i.loggam(e+1))return e}},sample:function(r){return r<10?this.sampleSmall(r):this.sampleLarge(r)}}),i.extend(i.triangular,{pdf:function(r,n,e,o){return e<=n||o<n||o>e?NaN:r<n||r>e?0:r<o?2*(r-n)/((e-n)*(o-n)):r===o?2/(e-n):2*(e-r)/((e-n)*(e-o))},cdf:function(r,n,e,o){return e<=n||o<n||o>e?NaN:r<=n?0:r>=e?1:r<=o?l.pow(r-n,2)/((e-n)*(o-n)):1-l.pow(e-r,2)/((e-n)*(e-o))},inv:function(r,n,e,o){return e<=n||o<n||o>e?NaN:r<=(o-n)/(e-n)?n+(e-n)*l.sqrt(r*((o-n)/(e-n))):n+(e-n)*(1-l.sqrt((1-r)*(1-(o-n)/(e-n))))},mean:function(r,n,e){return(r+n+e)/3},median:function(r,n,e){if(e<=(r+n)/2)return n-l.sqrt((n-r)*(n-e))/l.sqrt(2);if(e>(r+n)/2)return r+l.sqrt((n-r)*(e-r))/l.sqrt(2)},mode:function(r,n,e){return e},sample:function(r,n,e){var o=i._random_fn();return o<(e-r)/(n-r)?r+l.sqrt(o*(n-r)*(e-r)):n-l.sqrt((1-o)*(n-r)*(n-e))},variance:function(r,n,e){return(r*r+n*n+e*e-r*n-r*e-n*e)/18}}),i.extend(i.arcsine,{pdf:function(r,n,e){return e<=n?NaN:r<=n||r>=e?0:2/l.PI*l.pow(l.pow(e-n,2)-l.pow(2*r-n-e,2),-.5)},cdf:function(r,n,e){return r<n?0:r<e?2/l.PI*l.asin(l.sqrt((r-n)/(e-n))):1},inv:function(t,r,n){return r+(.5-.5*l.cos(l.PI*t))*(n-r)},mean:function(r,n){return n<=r?NaN:(r+n)/2},median:function(r,n){return n<=r?NaN:(r+n)/2},mode:function(){throw new Error("mode is not yet implemented")},sample:function(r,n){return(r+n)/2+(n-r)/2*l.sin(2*l.PI*i.uniform.sample(0,1))},variance:function(r,n){return n<=r?NaN:l.pow(n-r,2)/8}});function g(t){return t/l.abs(t)}i.extend(i.laplace,{pdf:function(r,n,e){return e<=0?0:l.exp(-l.abs(r-n)/e)/(2*e)},cdf:function(r,n,e){return e<=0?0:r<n?.5*l.exp((r-n)/e):1-.5*l.exp(-(r-n)/e)},mean:function(t){return t},median:function(t){return t},mode:function(t){return t},variance:function(t,r){return 2*r*r},sample:function(r,n){var e=i._random_fn()-.5;return r-n*g(e)*l.log(1-2*l.abs(e))}});function _(t,r,n){var e=12,o=6,s=-30,u=-50,f=60,v=8,m=3,a=2,c=3,d=[.9815606342467192,.9041172563704749,.7699026741943047,.5873179542866175,.3678314989981802,.1252334085114689],y=[.04717533638651183,.10693932599531843,.16007832854334622,.20316742672306592,.2334925365383548,.24914704581340277],h=t*.5;if(h>=v)return 1;var b=2*i.normal.cdf(h,0,1,1,0)-1;b>=l.exp(u/n)?b=l.pow(b,n):b=0;var q;t>m?q=a:q=c;for(var z=h,T=(v-h)/q,Y=z+T,I=0,V=n-1,sr=1;sr<=q;sr++){for(var X=0,F=.5*(Y+z),yr=.5*(Y-z),fr=1;fr<=e;fr++){var tr,ar;o<fr?(tr=e-fr+1,ar=d[tr-1]):(tr=fr,ar=-d[tr-1]);var dr=yr*ar,M=F+dr,pr=M*M;if(pr>f)break;var hr=2*i.normal.cdf(M,0,1,1,0),qr=2*i.normal.cdf(M,t,1,1,0),R=hr*.5-qr*.5;R>=l.exp(s/V)&&(R=y[tr-1]*l.exp(-(.5*pr))*l.pow(R,V),X+=R)}X*=2*yr*n/l.sqrt(2*l.PI),I+=X,z=Y,Y+=T}return b+=I,b<=l.exp(s/r)?0:(b=l.pow(b,r),b>=1?1:b)}function p(t,r,n){var e=.322232421088,o=.099348462606,s=-1,u=.588581570495,f=-.342242088547,v=.531103462366,m=-.204231210125,a=.10353775285,c=-453642210148e-16,d=.0038560700634,y=.8832,h=.2368,b=1.214,q=1.208,z=1.4142,T=120,Y=.5-.5*t,I=l.sqrt(l.log(1/(Y*Y))),V=I+((((I*c+m)*I+f)*I+s)*I+e)/((((I*d+a)*I+v)*I+u)*I+o);n<T&&(V+=(V*V*V+V)/n/4);var sr=y-h*V;return n<T&&(sr+=-b/n+q*V/n),V*(sr*l.log(r-1)+z)}i.extend(i.tukey,{cdf:function(r,n,e){var o=1,s=n,u=16,f=8,v=-30,m=1e-14,a=100,c=800,d=5e3,y=25e3,h=1,b=.5,q=.25,z=.125,T=[.9894009349916499,.9445750230732326,.8656312023878318,.755404408355003,.6178762444026438,.45801677765722737,.2816035507792589,.09501250983763744],Y=[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685];if(r<=0)return 0;if(e<2||o<1||s<2)return NaN;if(!Number.isFinite(r))return 1;if(e>y)return _(r,o,s);var I=e*.5,V=I*l.log(e)-e*l.log(2)-i.gammaln(I),sr=I-1,X=e*.25,F;e<=a?F=h:e<=c?F=b:e<=d?F=q:F=z,V+=l.log(F);for(var yr=0,fr=1;fr<=50;fr++){for(var tr=0,ar=(2*fr-1)*F,dr=1;dr<=u;dr++){var M,pr;f<dr?(M=dr-f-1,pr=V+sr*l.log(ar+T[M]*F)-(T[M]*F+ar)*X):(M=dr-1,pr=V+sr*l.log(ar-T[M]*F)+(T[M]*F-ar)*X);var hr;if(pr>=v){f<dr?hr=r*l.sqrt((T[M]*F+ar)*.5):hr=r*l.sqrt((-(T[M]*F)+ar)*.5);var qr=_(hr,o,s),R=qr*Y[M]*l.exp(pr);tr+=R}}if(fr*F>=1&&tr<=m)break;yr+=tr}if(tr>m)throw new Error("tukey.cdf failed to converge");return yr>1&&(yr=1),yr},inv:function(t,r,n){var e=1,o=r,s=1e-4,u=50;if(n<2||e<1||o<2)return NaN;if(t<0||t>1)return NaN;if(t===0)return 0;if(t===1)return 1/0;var f=p(t,o,n),v=i.tukey.cdf(f,r,n)-t,m;v>0?m=l.max(0,f-1):m=f+1;for(var a=i.tukey.cdf(m,r,n)-t,c,d=1;d<u;d++){c=m-a*(m-f)/(a-v),v=a,f=m,c<0&&(c=0,a=-t),a=i.tukey.cdf(c,r,n)-t,m=c;var y=l.abs(m-f);if(y<s)return c}throw new Error("tukey.inv failed to converge")}})}(k,Math),function(i,l){var w=Array.prototype.push,g=i.utils.isArray;function _(p){return g(p)||p instanceof i}i.extend({add:function(t,r){return _(r)?(_(r[0])||(r=[r]),i.map(t,function(n,e,o){return n+r[e][o]})):i.map(t,function(n){return n+r})},subtract:function(t,r){return _(r)?(_(r[0])||(r=[r]),i.map(t,function(n,e,o){return n-r[e][o]||0})):i.map(t,function(n){return n-r})},divide:function(t,r){return _(r)?(_(r[0])||(r=[r]),i.multiply(t,i.inv(r))):i.map(t,function(n){return n/r})},multiply:function(t,r){var n,e,o,s,u,f,v,m;if(t.length===void 0&&r.length===void 0)return t*r;if(u=t.length,f=t[0].length,v=i.zeros(u,o=_(r)?r[0].length:f),m=0,_(r)){for(;m<o;m++)for(n=0;n<u;n++){for(s=0,e=0;e<f;e++)s+=t[n][e]*r[e][m];v[n][m]=s}return u===1&&m===1?v[0][0]:v}return i.map(t,function(a){return a*r})},outer:function(t,r){return i.multiply(t.map(function(n){return[n]}),[r])},dot:function(t,r){_(t[0])||(t=[t]),_(r[0])||(r=[r]);for(var n=t[0].length===1&&t.length!==1?i.transpose(t):t,e=r[0].length===1&&r.length!==1?i.transpose(r):r,o=[],s=0,u=n.length,f=n[0].length,v,m;s<u;s++){for(o[s]=[],v=0,m=0;m<f;m++)v+=n[s][m]*e[s][m];o[s]=v}return o.length===1?o[0]:o},pow:function(t,r){return i.map(t,function(n){return l.pow(n,r)})},exp:function(t){return i.map(t,function(r){return l.exp(r)})},log:function(t){return i.map(t,function(r){return l.log(r)})},abs:function(t){return i.map(t,function(r){return l.abs(r)})},norm:function(t,r){var n=0,e=0;for(isNaN(r)&&(r=2),_(t[0])&&(t=t[0]);e<t.length;e++)n+=l.pow(l.abs(t[e]),r);return l.pow(n,1/r)},angle:function(t,r){return l.acos(i.dot(t,r)/(i.norm(t)*i.norm(r)))},aug:function(t,r){var n=[],e;for(e=0;e<t.length;e++)n.push(t[e].slice());for(e=0;e<n.length;e++)w.apply(n[e],r[e]);return n},inv:function(t){for(var r=t.length,n=t[0].length,e=i.identity(r,n),o=i.gauss_jordan(t,e),s=[],u=0,f;u<r;u++)for(s[u]=[],f=n;f<o[0].length;f++)s[u][f-n]=o[u][f];return s},det:function p(t){if(t.length===2)return t[0][0]*t[1][1]-t[0][1]*t[1][0];for(var r=0,n=0;n<t.length;n++){for(var e=[],o=1;o<t.length;o++){e[o-1]=[];for(var s=0;s<t.length;s++)s<n?e[o-1][s]=t[o][s]:s>n&&(e[o-1][s-1]=t[o][s])}var u=n%2?-1:1;r+=p(e)*t[0][n]*u}return r},gauss_elimination:function(t,r){var n=0,e=0,o=t.length,s=t[0].length,u=1,f=0,v=[],m,a,c,d;for(t=i.aug(t,r),m=t[0].length,n=0;n<o;n++){for(a=t[n][n],e=n,d=n+1;d<s;d++)a<l.abs(t[d][n])&&(a=t[d][n],e=d);if(e!=n)for(d=0;d<m;d++)c=t[n][d],t[n][d]=t[e][d],t[e][d]=c;for(e=n+1;e<o;e++)for(u=t[e][n]/t[n][n],d=n;d<m;d++)t[e][d]=t[e][d]-u*t[n][d]}for(n=o-1;n>=0;n--){for(f=0,e=n+1;e<=o-1;e++)f=f+v[e]*t[n][e];v[n]=(t[n][m-1]-f)/t[n][n]}return v},gauss_jordan:function(t,r){var n=i.aug(t,r),e=n.length,o=n[0].length,s=0,u,f,v;for(f=0;f<e;f++){var m=f;for(v=f+1;v<e;v++)l.abs(n[v][f])>l.abs(n[m][f])&&(m=v);var a=n[f];for(n[f]=n[m],n[m]=a,v=f+1;v<e;v++)for(s=n[v][f]/n[f][f],u=f;u<o;u++)n[v][u]-=n[f][u]*s}for(f=e-1;f>=0;f--){for(s=n[f][f],v=0;v<f;v++)for(u=o-1;u>f-1;u--)n[v][u]-=n[f][u]*n[v][f]/s;for(n[f][f]/=s,u=e;u<o;u++)n[f][u]/=s}return n},triaUpSolve:function(t,r){var n=t[0].length,e=i.zeros(1,n)[0],o,s=!1;return r[0].length!=null&&(r=r.map(function(u){return u[0]}),s=!0),i.arange(n-1,-1,-1).forEach(function(u){o=i.arange(u+1,n).map(function(f){return e[f]*t[u][f]}),e[u]=(r[u]-i.sum(o))/t[u][u]}),s?e.map(function(u){return[u]}):e},triaLowSolve:function(t,r){var n=t[0].length,e=i.zeros(1,n)[0],o,s=!1;return r[0].length!=null&&(r=r.map(function(u){return u[0]}),s=!0),i.arange(n).forEach(function(u){o=i.arange(u).map(function(f){return t[u][f]*e[f]}),e[u]=(r[u]-i.sum(o))/t[u][u]}),s?e.map(function(u){return[u]}):e},lu:function(t){var r=t.length,n=i.identity(r),e=i.zeros(t.length,t[0].length),o;return i.arange(r).forEach(function(s){e[0][s]=t[0][s]}),i.arange(1,r).forEach(function(s){i.arange(s).forEach(function(u){o=i.arange(u).map(function(f){return n[s][f]*e[f][u]}),n[s][u]=(t[s][u]-i.sum(o))/e[u][u]}),i.arange(s,r).forEach(function(u){o=i.arange(s).map(function(f){return n[s][f]*e[f][u]}),e[s][u]=t[o.length][u]-i.sum(o)})}),[n,e]},cholesky:function(t){var r=t.length,n=i.zeros(t.length,t[0].length),e;return i.arange(r).forEach(function(o){e=i.arange(o).map(function(s){return l.pow(n[o][s],2)}),n[o][o]=l.sqrt(t[o][o]-i.sum(e)),i.arange(o+1,r).forEach(function(s){e=i.arange(o).map(function(u){return n[o][u]*n[s][u]}),n[s][o]=(t[o][s]-i.sum(e))/n[o][o]})}),n},gauss_jacobi:function(t,r,n,e){for(var o=0,s=0,u=t.length,f=[],v=[],m=[],a,c,d,y;o<u;o++)for(f[o]=[],v[o]=[],m[o]=[],s=0;s<u;s++)o>s?(f[o][s]=t[o][s],v[o][s]=m[o][s]=0):o<s?(v[o][s]=t[o][s],f[o][s]=m[o][s]=0):(m[o][s]=t[o][s],f[o][s]=v[o][s]=0);for(d=i.multiply(i.multiply(i.inv(m),i.add(f,v)),-1),c=i.multiply(i.inv(m),r),a=n,y=i.add(i.multiply(d,n),c),o=2;l.abs(i.norm(i.subtract(y,a)))>e;)a=y,y=i.add(i.multiply(d,a),c),o++;return y},gauss_seidel:function(t,r,n,e){for(var o=0,s=t.length,u=[],f=[],v=[],m,a,c,d,y;o<s;o++)for(u[o]=[],f[o]=[],v[o]=[],m=0;m<s;m++)o>m?(u[o][m]=t[o][m],f[o][m]=v[o][m]=0):o<m?(f[o][m]=t[o][m],u[o][m]=v[o][m]=0):(v[o][m]=t[o][m],u[o][m]=f[o][m]=0);for(d=i.multiply(i.multiply(i.inv(i.add(v,u)),f),-1),c=i.multiply(i.inv(i.add(v,u)),r),a=n,y=i.add(i.multiply(d,n),c),o=2;l.abs(i.norm(i.subtract(y,a)))>e;)a=y,y=i.add(i.multiply(d,a),c),o=o+1;return y},SOR:function(t,r,n,e,o){for(var s=0,u=t.length,f=[],v=[],m=[],a,c,d,y,h;s<u;s++)for(f[s]=[],v[s]=[],m[s]=[],a=0;a<u;a++)s>a?(f[s][a]=t[s][a],v[s][a]=m[s][a]=0):s<a?(v[s][a]=t[s][a],f[s][a]=m[s][a]=0):(m[s][a]=t[s][a],f[s][a]=v[s][a]=0);for(y=i.multiply(i.inv(i.add(m,i.multiply(f,o))),i.subtract(i.multiply(m,1-o),i.multiply(v,o))),d=i.multiply(i.multiply(i.inv(i.add(m,i.multiply(f,o))),r),o),c=n,h=i.add(i.multiply(y,n),d),s=2;l.abs(i.norm(i.subtract(h,c)))>e;)c=h,h=i.add(i.multiply(y,c),d),s++;return h},householder:function(t){for(var r=t.length,n=t[0].length,e=0,o=[],s=[],u,f,v,m,a;e<r-1;e++){for(u=0,m=e+1;m<n;m++)u+=t[m][e]*t[m][e];for(a=t[e+1][e]>0?-1:1,u=a*l.sqrt(u),f=l.sqrt((u*u-t[e+1][e]*u)/2),o=i.zeros(r,1),o[e+1][0]=(t[e+1][e]-u)/(2*f),v=e+2;v<r;v++)o[v][0]=t[v][e]/(2*f);s=i.subtract(i.identity(r,n),i.multiply(i.multiply(o,i.transpose(o)),2)),t=i.multiply(s,i.multiply(t,s))}return t},QR:function(){var p=i.sum,t=i.arange;function r(n){var e=n.length,o=n[0].length,s=i.zeros(o,o);n=i.copy(n);var u,f,v;for(f=0;f<o;f++){for(s[f][f]=l.sqrt(p(t(e).map(function(m){return n[m][f]*n[m][f]}))),u=0;u<e;u++)n[u][f]=n[u][f]/s[f][f];for(v=f+1;v<o;v++)for(s[f][v]=p(t(e).map(function(m){return n[m][f]*n[m][v]})),u=0;u<e;u++)n[u][v]=n[u][v]-n[u][f]*s[f][v]}return[n,s]}return r}(),lstsq:function(){function p(r){r=i.copy(r);var n=r.length,e=i.identity(n);return i.arange(n-1,-1,-1).forEach(function(o){i.sliceAssign(e,{row:o},i.divide(i.slice(e,{row:o}),r[o][o])),i.sliceAssign(r,{row:o},i.divide(i.slice(r,{row:o}),r[o][o])),i.arange(o).forEach(function(s){var u=i.multiply(r[s][o],-1),f=i.slice(r,{row:s}),v=i.multiply(i.slice(r,{row:o}),u);i.sliceAssign(r,{row:s},i.add(f,v));var m=i.slice(e,{row:s}),a=i.multiply(i.slice(e,{row:o}),u);i.sliceAssign(e,{row:s},i.add(m,a))})}),e}function t(r,n){var e=!1;n[0].length===void 0&&(n=n.map(function(y){return[y]}),e=!0);var o=i.QR(r),s=o[0],u=o[1],f=r[0].length,v=i.slice(s,{col:{end:f}}),m=i.slice(u,{row:{end:f}}),a=p(m),c=i.transpose(v);c[0].length===void 0&&(c=[c]);var d=i.multiply(i.multiply(a,c),n);return d.length===void 0&&(d=[[d]]),e?d.map(function(y){return y[0]}):d}return t}(),jacobi:function(t){for(var r=1,n=t.length,e=i.identity(n,n),o=[],s,u,f,v,m,a,c,d;r===1;){for(a=t[0][1],v=0,m=1,u=0;u<n;u++)for(f=0;f<n;f++)u!=f&&a<l.abs(t[u][f])&&(a=l.abs(t[u][f]),v=u,m=f);for(t[v][v]===t[m][m]?c=t[v][m]>0?l.PI/4:-l.PI/4:c=l.atan(2*t[v][m]/(t[v][v]-t[m][m]))/2,d=i.identity(n,n),d[v][v]=l.cos(c),d[v][m]=-l.sin(c),d[m][v]=l.sin(c),d[m][m]=l.cos(c),e=i.multiply(e,d),s=i.multiply(i.multiply(i.inv(d),t),d),t=s,r=0,u=1;u<n;u++)for(f=1;f<n;f++)u!=f&&l.abs(t[u][f])>.001&&(r=1)}for(u=0;u<n;u++)o.push(t[u][u]);return[e,o]},rungekutta:function(t,r,n,e,o,s){var u,f,v,m,a;if(s===2)for(;e<=n;)u=r*t(e,o),f=r*t(e+r,o+u),v=o+(u+f)/2,o=v,e=e+r;if(s===4)for(;e<=n;)u=r*t(e,o),f=r*t(e+r/2,o+u/2),m=r*t(e+r/2,o+f/2),a=r*t(e+r,o+m),v=o+(u+2*f+2*m+a)/6,o=v,e=e+r;return o},romberg:function(t,r,n,e){for(var o=0,s=(n-r)/2,u=[],f=[],v=[],m,a,c,d,y;o<e/2;){for(y=t(r),c=r,d=0;c<=n;c=c+s,d++)u[d]=c;for(m=u.length,c=1;c<m-1;c++)y+=(c%2!==0?4:2)*t(u[c]);y=s/3*(y+t(n)),v[o]=y,s/=2,o++}for(a=v.length,m=1;a!==1;){for(c=0;c<a-1;c++)f[c]=(l.pow(4,m)*v[c+1]-v[c])/(l.pow(4,m)-1);a=f.length,v=f,f=[],m++}return v},richardson:function(t,r,n,e){function o(h,b){for(var q=0,z=h.length,T;q<z;q++)h[q]===b&&(T=q);return T}for(var s=l.abs(n-t[o(t,n)+1]),u=0,f=[],v=[],m,a,c,d,y;e>=s;)m=o(t,n+e),a=o(t,n),f[u]=(r[m]-2*r[a]+r[2*a-m])/(e*e),e/=2,u++;for(d=f.length,c=1;d!=1;){for(y=0;y<d-1;y++)v[y]=(l.pow(4,c)*f[y+1]-f[y])/(l.pow(4,c)-1);d=v.length,f=v,v=[],c++}return f},simpson:function(t,r,n,e){for(var o=(n-r)/e,s=t(r),u=[],f=r,v=0,m=1,a;f<=n;f=f+o,v++)u[v]=f;for(a=u.length;m<a-1;m++)s+=(m%2!==0?4:2)*t(u[m]);return o/3*(s+t(n))},hermite:function(t,r,n,e){for(var o=t.length,s=0,u=0,f=[],v=[],m=[],a=[],c;u<o;u++){for(f[u]=1,c=0;c<o;c++)u!=c&&(f[u]*=(e-t[c])/(t[u]-t[c]));for(v[u]=0,c=0;c<o;c++)u!=c&&(v[u]+=1/(t[u]-t[c]));m[u]=(1-2*(e-t[u])*v[u])*(f[u]*f[u]),a[u]=(e-t[u])*(f[u]*f[u]),s+=m[u]*r[u]+a[u]*n[u]}return s},lagrange:function(t,r,n){for(var e=0,o=0,s,u,f=t.length;o<f;o++){for(u=r[o],s=0;s<f;s++)o!=s&&(u*=(n-t[s])/(t[o]-t[s]));e+=u}return e},cubic_spline:function(t,r,n){for(var e=t.length,o=0,s,u=[],f=[],v=[],m=[],a=[],c=[],d=[];o<e-1;o++)a[o]=t[o+1]-t[o];for(v[0]=0,o=1;o<e-1;o++)v[o]=3/a[o]*(r[o+1]-r[o])-3/a[o-1]*(r[o]-r[o-1]);for(o=1;o<e-1;o++)u[o]=[],f[o]=[],u[o][o-1]=a[o-1],u[o][o]=2*(a[o-1]+a[o]),u[o][o+1]=a[o],f[o][0]=v[o];for(m=i.multiply(i.inv(u),f),s=0;s<e-1;s++)c[s]=(r[s+1]-r[s])/a[s]-a[s]*(m[s+1][0]+2*m[s][0])/3,d[s]=(m[s+1][0]-m[s][0])/(3*a[s]);for(s=0;s<e&&!(t[s]>n);s++);return s-=1,r[s]+(n-t[s])*c[s]+i.sq(n-t[s])*m[s]+(n-t[s])*i.sq(n-t[s])*d[s]},gauss_quadrature:function(){throw new Error("gauss_quadrature not yet implemented")},PCA:function(t){var r=t.length,n=t[0].length,e=0,o,s,u=[],f=[],v=[],m=[],a=[],c=[],d=[],y=[],h=[],b=[];for(e=0;e<r;e++)u[e]=i.sum(t[e])/n;for(e=0;e<n;e++)for(d[e]=[],o=0;o<r;o++)d[e][o]=t[o][e]-u[o];for(d=i.transpose(d),e=0;e<r;e++)for(y[e]=[],o=0;o<r;o++)y[e][o]=i.dot([d[e]],[d[o]])/(n-1);for(v=i.jacobi(y),h=v[0],f=v[1],b=i.transpose(h),e=0;e<f.length;e++)for(o=e;o<f.length;o++)f[e]<f[o]&&(s=f[e],f[e]=f[o],f[o]=s,m=b[e],b[e]=b[o],b[o]=m);for(c=i.transpose(d),e=0;e<r;e++)for(a[e]=[],o=0;o<c.length;o++)a[e][o]=i.dot([b[e]],[c[o]]);return[t,f,b,a]}}),function(p){for(var t=0;t<p.length;t++)(function(r){i.fn[r]=function(n,e){var o=this;return e?(setTimeout(function(){e.call(o,i.fn[r].call(o,n))},15),this):typeof i[r](this,n)=="number"?i[r](this,n):i(i[r](this,n))}})(p[t])}("add divide multiply subtract dot pow exp log abs norm angle".split(" "))}(k,Math),function(i,l){var w=[].slice,g=i.utils.isNumber,_=i.utils.isArray;i.extend({zscore:function(){var r=w.call(arguments);return g(r[1])?(r[0]-r[1])/r[2]:(r[0]-i.mean(r[1]))/i.stdev(r[1],r[2])},ztest:function(){var r=w.call(arguments),n;return _(r[1])?(n=i.zscore(r[0],r[1],r[3]),r[2]===1?i.normal.cdf(-l.abs(n),0,1):i.normal.cdf(-l.abs(n),0,1)*2):r.length>2?(n=i.zscore(r[0],r[1],r[2]),r[3]===1?i.normal.cdf(-l.abs(n),0,1):i.normal.cdf(-l.abs(n),0,1)*2):(n=r[0],r[1]===1?i.normal.cdf(-l.abs(n),0,1):i.normal.cdf(-l.abs(n),0,1)*2)}}),i.extend(i.fn,{zscore:function(r,n){return(r-this.mean())/this.stdev(n)},ztest:function(r,n,e){var o=l.abs(this.zscore(r,e));return n===1?i.normal.cdf(-o,0,1):i.normal.cdf(-o,0,1)*2}}),i.extend({tscore:function(){var r=w.call(arguments);return r.length===4?(r[0]-r[1])/(r[2]/l.sqrt(r[3])):(r[0]-i.mean(r[1]))/(i.stdev(r[1],!0)/l.sqrt(r[1].length))},ttest:function(){var r=w.call(arguments),n;return r.length===5?(n=l.abs(i.tscore(r[0],r[1],r[2],r[3])),r[4]===1?i.studentt.cdf(-n,r[3]-1):i.studentt.cdf(-n,r[3]-1)*2):g(r[1])?(n=l.abs(r[0]),r[2]==1?i.studentt.cdf(-n,r[1]-1):i.studentt.cdf(-n,r[1]-1)*2):(n=l.abs(i.tscore(r[0],r[1])),r[2]==1?i.studentt.cdf(-n,r[1].length-1):i.studentt.cdf(-n,r[1].length-1)*2)}}),i.extend(i.fn,{tscore:function(r){return(r-this.mean())/(this.stdev(!0)/l.sqrt(this.cols()))},ttest:function(r,n){return n===1?1-i.studentt.cdf(l.abs(this.tscore(r)),this.cols()-1):i.studentt.cdf(-l.abs(this.tscore(r)),this.cols()-1)*2}}),i.extend({anovafscore:function(){var r=w.call(arguments),n,e,o,s,u,f,v,m;if(r.length===1){for(u=new Array(r[0].length),v=0;v<r[0].length;v++)u[v]=r[0][v];r=u}for(e=new Array,v=0;v<r.length;v++)e=e.concat(r[v]);for(o=i.mean(e),n=0,v=0;v<r.length;v++)n=n+r[v].length*l.pow(i.mean(r[v])-o,2);for(n/=r.length-1,f=0,v=0;v<r.length;v++)for(s=i.mean(r[v]),m=0;m<r[v].length;m++)f+=l.pow(r[v][m]-s,2);return f/=e.length-r.length,n/f},anovaftest:function(){var r=w.call(arguments),n,e,o,s;if(g(r[0]))return 1-i.centralF.cdf(r[0],r[1],r[2]);var u=i.anovafscore(r);for(n=r.length-1,o=0,s=0;s<r.length;s++)o=o+r[s].length;return e=o-n-1,1-i.centralF.cdf(u,n,e)},ftest:function(r,n,e){return 1-i.centralF.cdf(r,n,e)}}),i.extend(i.fn,{anovafscore:function(){return i.anovafscore(this.toArray())},anovaftes:function(){var r=0,n;for(n=0;n<this.length;n++)r=r+this[n].length;return i.ftest(this.anovafscore(),this.length-1,r-this.length)}}),i.extend({qscore:function(){var r=w.call(arguments),n,e,o,s,u;return g(r[0])?(n=r[0],e=r[1],o=r[2],s=r[3],u=r[4]):(n=i.mean(r[0]),e=i.mean(r[1]),o=r[0].length,s=r[1].length,u=r[2]),l.abs(n-e)/(u*l.sqrt((1/o+1/s)/2))},qtest:function(){var r=w.call(arguments),n;r.length===3?(n=r[0],r=r.slice(1)):r.length===7?(n=i.qscore(r[0],r[1],r[2],r[3],r[4]),r=r.slice(5)):(n=i.qscore(r[0],r[1],r[2]),r=r.slice(3));var e=r[0],o=r[1];return 1-i.tukey.cdf(n,o,e-o)},tukeyhsd:function(r){for(var n=i.pooledstdev(r),e=r.map(function(m){return i.mean(m)}),o=r.reduce(function(m,a){return m+a.length},0),s=[],u=0;u<r.length;++u)for(var f=u+1;f<r.length;++f){var v=i.qtest(e[u],e[f],r[u].length,r[f].length,n,o,r.length);s.push([[u,f],v])}return s}}),i.extend({normalci:function(){var r=w.call(arguments),n=new Array(2),e;return r.length===4?e=l.abs(i.normal.inv(r[1]/2,0,1)*r[2]/l.sqrt(r[3])):e=l.abs(i.normal.inv(r[1]/2,0,1)*i.stdev(r[2])/l.sqrt(r[2].length)),n[0]=r[0]-e,n[1]=r[0]+e,n},tci:function(){var r=w.call(arguments),n=new Array(2),e;return r.length===4?e=l.abs(i.studentt.inv(r[1]/2,r[3]-1)*r[2]/l.sqrt(r[3])):e=l.abs(i.studentt.inv(r[1]/2,r[2].length-1)*i.stdev(r[2],!0)/l.sqrt(r[2].length)),n[0]=r[0]-e,n[1]=r[0]+e,n},significant:function(r,n){return r<n}}),i.extend(i.fn,{normalci:function(r,n){return i.normalci(r,n,this.toArray())},tci:function(r,n){return i.tci(r,n,this.toArray())}});function p(t,r,n,e){if(t>1||n>1||t<=0||n<=0)throw new Error("Proportions should be greater than 0 and less than 1");var o=(t*r+n*e)/(r+e),s=l.sqrt(o*(1-o)*(1/r+1/e));return(t-n)/s}i.extend(i.fn,{oneSidedDifferenceOfProportions:function(r,n,e,o){var s=p(r,n,e,o);return i.ztest(s,1)},twoSidedDifferenceOfProportions:function(r,n,e,o){var s=p(r,n,e,o);return i.ztest(s,2)}})}(k,Math),k.models=function(){function i(p){var t=p[0].length,r=k.arange(t).map(function(n){var e=k.arange(t).filter(function(o){return o!==n});return l(k.col(p,n).map(function(o){return o[0]}),k.col(p,e))});return r}function l(p,t){var r=p.length,n=t[0].length-1,e=r-n-1,o=k.lstsq(t,p),s=k.multiply(t,o.map(function(d){return[d]})).map(function(d){return d[0]}),u=k.subtract(p,s),f=k.mean(p),v=k.sum(s.map(function(d){return Math.pow(d-f,2)})),m=k.sum(p.map(function(d,y){return Math.pow(d-s[y],2)})),a=v+m,c=v/a;return{exog:t,endog:p,nobs:r,df_model:n,df_resid:e,coef:o,predict:s,resid:u,ybar:f,SST:a,SSE:v,SSR:m,R2:c}}function w(p){var t=i(p.exog),r=Math.sqrt(p.SSR/p.df_resid),n=t.map(function(f){var v=f.SST,m=f.R2;return r/Math.sqrt(v*(1-m))}),e=p.coef.map(function(f,v){return(f-0)/n[v]}),o=e.map(function(f){var v=k.studentt.cdf(f,p.df_resid);return(v>.5?1-v:v)*2}),s=k.studentt.inv(.975,p.df_resid),u=p.coef.map(function(f,v){var m=s*n[v];return[f-m,f+m]});return{se:n,t:e,p:o,sigmaHat:r,interval95:u}}function g(p){var t=p.R2/p.df_model/((1-p.R2)/p.df_resid),r=function(e,o,s){return k.beta.cdf(e/(s/o+e),o/2,s/2)},n=1-r(t,p.df_model,p.df_resid);return{F_statistic:t,pvalue:n}}function _(p,t){var r=l(p,t),n=w(r),e=g(r),o=1-(1-r.R2)*((r.nobs-1)/r.df_resid);return r.t=n,r.f=e,r.adjust_R2=o,r}return{ols:_}}(),k.extend({buildxmatrix:function(){for(var l=new Array(arguments.length),w=0;w<arguments.length;w++){var g=[1];l[w]=g.concat(arguments[w])}return k(l)},builddxmatrix:function(){for(var l=new Array(arguments[0].length),w=0;w<arguments[0].length;w++){var g=[1];l[w]=g.concat(arguments[0][w])}return k(l)},buildjxmatrix:function(l){for(var w=new Array(l.length),g=0;g<l.length;g++)w[g]=l[g];return k.builddxmatrix(w)},buildymatrix:function(l){return k(l).transpose()},buildjymatrix:function(l){return l.transpose()},matrixmult:function(l,w){var g,_,p,t,r;if(l.cols()==w.rows()){if(w.rows()>1){for(t=[],g=0;g<l.rows();g++)for(t[g]=[],_=0;_<w.cols();_++){for(r=0,p=0;p<l.cols();p++)r+=l.toArray()[g][p]*w.toArray()[p][_];t[g][_]=r}return k(t)}for(t=[],g=0;g<l.rows();g++)for(t[g]=[],_=0;_<w.cols();_++){for(r=0,p=0;p<l.cols();p++)r+=l.toArray()[g][p]*w.toArray()[_];t[g][_]=r}return k(t)}},regress:function(l,w){var g=k.xtranspxinv(l),_=l.transpose(),p=k.matrixmult(k(g),_);return k.matrixmult(p,w)},regresst:function(l,w,g){var _=k.regress(l,w),p={};p.anova={};var t=k.jMatYBar(l,_);p.yBar=t;var r=w.mean();p.anova.residuals=k.residuals(w,t),p.anova.ssr=k.ssr(t,r),p.anova.msr=p.anova.ssr/(l[0].length-1),p.anova.sse=k.sse(w,t),p.anova.mse=p.anova.sse/(w.length-(l[0].length-1)-1),p.anova.sst=k.sst(w,r),p.anova.mst=p.anova.sst/(w.length-1),p.anova.r2=1-p.anova.sse/p.anova.sst,p.anova.r2<0&&(p.anova.r2=0),p.anova.fratio=p.anova.msr/p.anova.mse,p.anova.pvalue=k.anovaftest(p.anova.fratio,l[0].length-1,w.length-(l[0].length-1)-1),p.anova.rmse=Math.sqrt(p.anova.mse),p.anova.r2adj=1-p.anova.mse/p.anova.mst,p.anova.r2adj<0&&(p.anova.r2adj=0),p.stats=new Array(l[0].length);for(var n=k.xtranspxinv(l),e,o,s,u=0;u<_.length;u++)e=Math.sqrt(p.anova.mse*Math.abs(n[u][u])),o=Math.abs(_[u]/e),s=k.ttest(o,w.length-l[0].length-1,g),p.stats[u]=[_[u],e,o,s];return p.regress=_,p},xtranspx:function(l){return k.matrixmult(l.transpose(),l)},xtranspxinv:function(l){var w=k.matrixmult(l.transpose(),l),g=k.inv(w);return g},jMatYBar:function(l,w){var g=k.matrixmult(l,w);return new k(g)},residuals:function(l,w){return k.matrixsubtract(l,w)},ssr:function(l,w){for(var g=0,_=0;_<l.length;_++)g+=Math.pow(l[_]-w,2);return g},sse:function(l,w){for(var g=0,_=0;_<l.length;_++)g+=Math.pow(l[_]-w[_],2);return g},sst:function(l,w){for(var g=0,_=0;_<l.length;_++)g+=Math.pow(l[_]-w,2);return g},matrixsubtract:function(l,w){for(var g=new Array(l.length),_=0;_<l.length;_++){g[_]=new Array(l[_].length);for(var p=0;p<l[_].length;p++)g[_][p]=l[_][p]-w[_][p]}return k(g)}}),k.jStat=k,k})})(Kr);var Zr=Kr.exports;const hn={class:"section container"},bn={class:"section container sticky"},kn={class:"columns"},xn={class:"column"},qn={class:"column"},zn={class:"section container"},Rn={class:"title"},In={class:"grid"},Cn={class:"table is-bordered is-striped is-narrow is-hoverable"},En={scope:"col"},Tn={scope:"row"},Vn={key:0},Pn={style:{"white-space":"pre-line",width:"500px"}},Ln={key:0},$n=Ur({__name:"overview",setup(Cr){const N=s=>new Date(s.published).getFullYear();Wr("+,d");const k=Wr("+.1f"),i=an(),l=cn(),w=$(["High","Critical"]);l.query.severities&&(w.value=l.query.severities.split(",")),Yr(w,()=>{const s=w.value.length===2&&w.value.includes("High")&&w.value.includes("Critical");i.push({query:{severities:s?void 0:w.value.join(",")}})});const g=vn([]),_=["angle","chromium","dawn","skia","swiftshader","v8","webrtc"],p=s=>{if(!s.description)return"???";for(const u of _)if(u!="chromium"&&s.description.toLowerCase().includes(u))return u;return"chromium"};function t(s,u,f=.9){const v=1-f,m=s===0?0:Zr.jStat.chisquare.inv(v/2,2*s)/2,a=Zr.jStat.chisquare.inv(1-v/2,2*(s+1))/2,c=m/u,d=a/u,y=s/u,h=Math.max(s,c),b=Math.max(s,d);return{observedCount:s,timeFraction:u,projectedMean:parseFloat(y.toFixed(2)),confidenceInterval:{lower:parseFloat(h.toFixed(2)),upper:parseFloat(b.toFixed(2)),constraintApplied:h===s?"Yes (Floor)":"No"}}}Dr(async()=>{const u=await(await fetch("/cve/data.json")).json();g.value=u.map(f=>({...f,year:N(f),project:p(f)}))});const r=Hr(()=>g.value.filter(s=>s.severity&&w.value.includes(s.severity)&&s.year>2020)),n=new Map([["Low",0],["Medium",1],["High",2],["Critical",3]]),e=Hr(()=>{const s=r.value,u=Array.from(new Set(s.map(m=>m.year))).filter(m=>m).sort((m,a)=>a-m),f=new Date().getFullYear();u.includes(f)||u.unshift(f);const v=u.map(m=>{let a=s.filter(d=>d.year===m);a=a.sort((d,y)=>n.get(d.severity)-n.get(y.severity));const c=Object.groupBy(a,d=>d.problem);for(const d in c)c[d]=Object.groupBy(c[d],y=>y.project);return{year:m,cves:c,total:a.length,total_previous:0}});for(let m=0;m<v.length-1;m++)v[m+1]&&(v[m].total_previous=v[m+1].total);return v}),o=Hr(()=>{if(e.value.length===0)return{low:0,high:0};const s=new Date,u=(s.getTime()-new Date(`${s.getFullYear()}-01-01`).getTime())/(new Date(`${s.getFullYear()+1}-01-01`).getTime()-new Date(`${s.getFullYear()}-01-01`).getTime()),f=t(e.value[0].total,u,.95);return{low:Math.round(f.confidenceInterval.lower),high:Math.round(f.confidenceInterval.upper)}});return(s,u)=>{const f=Mr,v=Sr,m=Ar("b-checkbox-button"),a=Ar("b-field"),c=Ar("b-icon"),d=_n,y=wn,h=Ar("b-tooltip");return A(),B("div",null,[ur(f),x("section",hn,[u[7]||(u[7]=x("h1",{class:"title"},"Chromium CVE",-1)),x("p",null,[u[5]||(u[5]=j(" Note: vulnerabilities aren't always associated with a CVE. Bugs are often fixed before affecting stable releases. Some are immediately found using fuzzers, or internal audits. This page only display CVEs. For a more complete view of Chromium security issues, please refer to ")),ur(v,{to:"https://crbug.com/issues?q=((componentid:1363614%2B%20type:vulnerability)%20%7C%20collaborator:security@chromium.org)%20-status:(new%20%7C%20duplicate%20%7C%20infeasible%20%7C%20intended_behavior%20%7C%20not_reproducible%20%7C%20obsolete)%20hotlistid:(5432902%20%7C%205432548)"},{default:wr(()=>u[4]||(u[4]=[j("the bug tracker")])),_:1}),u[6]||(u[6]=j(". "))])]),x("section",bn,[x("div",kn,[x("div",xn,[ur(a,{label:"Severity"},{default:wr(()=>[ur(m,{modelValue:G(w),"onUpdate:modelValue":u[0]||(u[0]=b=>Fr(w)?w.value=b:null),"native-value":"Low"},{default:wr(()=>u[8]||(u[8]=[j("Low")])),_:1},8,["modelValue"]),ur(m,{modelValue:G(w),"onUpdate:modelValue":u[1]||(u[1]=b=>Fr(w)?w.value=b:null),"native-value":"Medium"},{default:wr(()=>u[9]||(u[9]=[j("Medium")])),_:1},8,["modelValue"]),ur(m,{modelValue:G(w),"onUpdate:modelValue":u[2]||(u[2]=b=>Fr(w)?w.value=b:null),"native-value":"High"},{default:wr(()=>u[10]||(u[10]=[j("High")])),_:1},8,["modelValue"]),ur(m,{modelValue:G(w),"onUpdate:modelValue":u[3]||(u[3]=b=>Fr(w)?w.value=b:null),"native-value":"Critical"},{default:wr(()=>u[11]||(u[11]=[j("Critical")])),_:1},8,["modelValue"])]),_:1})]),x("div",qn,[G(w).includes("Low")?(A(),B(lr,{key:0},[ur(c,{type:"is-info",icon:"circle"}),u[12]||(u[12]=j(" Low "))],64)):mr("",!0),G(w).includes("Medium")?(A(),B(lr,{key:1},[ur(c,{type:"is-warning",icon:"circle"}),u[13]||(u[13]=j(" Medium "))],64)):mr("",!0),G(w).includes("High")?(A(),B(lr,{key:2},[ur(c,{type:"is-danger",icon:"circle"}),u[14]||(u[14]=j(" High "))],64)):mr("",!0),G(w).includes("Critical")?(A(),B(lr,{key:3},[ur(c,{icon:"circle"}),u[15]||(u[15]=j(" Critical "))],64)):mr("",!0)])])]),(A(!0),B(lr,null,Rr(G(e),(b,q)=>(A(),B("section",zn,[x("h2",Rn,nr(b.year),1),ur(y,null,{default:wr(()=>[G(r).length>0?(A(),Ir(d,{key:0,year:b.year,data:G(r),totalPrevious:b.total_previous||0,projection:q===0?{low:G(o).low,high:G(o).high}:void 0},null,8,["year","data","totalPrevious","projection"])):mr("",!0)]),_:2},1024),x("div",In,[u[19]||(u[19]=x("strong",null,"Total : ",-1)),x("p",null,nr(b.total)+" CVEs",1),q===0?(A(),B(lr,{key:0},[u[16]||(u[16]=x("strong",null,"Projection :",-1)),j(" [ "+nr(G(o).low)+" CVEs , "+nr(G(o).high)+" CVEs ] ",1),u[17]||(u[17]=x("strong",null,"Y/Y projection :",-1)),j(" [ "+nr(G(k)((G(o).low-b.total_previous)/b.total_previous*100))+" % , "+nr(G(k)((G(o).high-b.total_previous)/b.total_previous*100))+" % ] ",1)],64)):(A(),B(lr,{key:1},[u[18]||(u[18]=x("strong",null,"Y/Y :",-1)),x("p",null,nr(G(k)((b.total-b.total_previous)/b.total_previous*100))+" % ",1)],64))]),u[23]||(u[23]=x("hr",null,null,-1)),x("table",Cn,[x("thead",null,[x("tr",null,[u[20]||(u[20]=x("th",{scope:"col"},null,-1)),(A(),B(lr,null,Rr(_,z=>x("th",En,nr(z),1)),64))])]),x("tbody",null,[(A(!0),B(lr,null,Rr(b.cves,(z,T)=>(A(),B("tr",null,[x("th",Tn,nr(T),1),(A(),B(lr,null,Rr(_,Y=>x("td",null,[z[Y]?(A(),B("span",Vn,[(A(!0),B(lr,null,Rr(z[Y],I=>(A(),Ir(v,{to:`/cve?id=${I.id}`},{default:wr(()=>[ur(h,{type:"is-light"},{content:wr(()=>[x("p",Pn,[x("strong",null,nr(I.id),1),j(" - "+nr(I.description),1)]),I.vrp_reward?(A(),B("p",Ln,[u[21]||(u[21]=x("strong",null," Reward ",-1)),j(" "+nr(I.vrp_reward)+"$ ",1)])):mr("",!0),(A(!0),B(lr,null,Rr(I.components,V=>(A(),B("p",null,[u[22]||(u[22]=x("strong",null," Component ",-1)),j(" "+nr(V),1)]))),256))]),default:wr(()=>[I.severity==="Low"?(A(),Ir(c,{key:0,type:"is-info",icon:"circle"})):mr("",!0),I.severity==="Medium"?(A(),Ir(c,{key:1,type:"is-warning",icon:"circle"})):mr("",!0),I.severity==="High"?(A(),Ir(c,{key:2,type:"is-danger",icon:"circle"})):mr("",!0),I.severity==="Critical"?(A(),Ir(c,{key:3,icon:"circle"})):mr("",!0)]),_:2},1024)]),_:2},1032,["to"]))),256))])):mr("",!0)])),64))]))),256))])])]))),256))])}}}),Xn=Jr($n,[["__scopeId","data-v-937ccb04"]]);export{Xn as default};
