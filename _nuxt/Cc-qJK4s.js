import{_ as N}from"./S-oeU3K-.js";import{_ as L}from"./AgTiqyyL.js";import{f as M,g as T,h as r,i as V,r as q,o as u,c as f,b as y,a as e,t as _,j as n,d as p,F as w,k as C,n as j,l as H,w as F,m as I,p as R}from"./CIIwfncC.js";import{_ as S}from"./DlAUqK2U.js";const $={class:"section"},z={class:"container content"},D={class:"columns"},E={class:"column is-5"},J={class:"title"},U=["innerHTML"],A={class:"card_list_container"},G={class:"cards"},K={class:"column is-7"},O=["src"],P=M({__name:"details",setup(Q){const l=T(),i=r("");l.query.developer&&(i.value=l.query.developer);const m=r("");l.query.badge&&(m.value=l.query.badge);const s=r({});r("");const x=r([]),c=r(0),v=r(!1),h=async()=>{const b=async a=>await(await fetch(a)).json(),t=await b("/badges.json");s.value=t.find(a=>a.name===m.value),x.value=t.filter(a=>a.category===s.value.category),c.value=Math.log2(8200/s.value.recipients)*.8;const k=(await b(`/badges/${i.value[0]}.json`))[i.value];let d=!1,g=null;for(const[a,o]of k)t[a].name===m.value&&(d=!0,g=o);v.value=d,s.value.details=s.value.details.replace(/\$[0-9]/g,a=>{const o=parseInt(a[1]);return g[o]})};h(),V(()=>l.query,()=>{i.value=l.query.developer,m.value=l.query.badge,h()});const B=()=>{I({path:"/badges/list",query:{developers:i.value}})};return(b,t)=>{const k=N,d=q("b-icon"),g=L,a=q("b-button");return u(),f("div",null,[y(k),e("section",$,[e("div",z,[e("div",D,[e("div",E,[e("h1",J,_(n(s).name),1),e("p",null,[t[0]||(t[0]=e("strong",null,"Rarity",-1)),t[1]||(t[1]=p(": ")),(u(),f(w,null,C(5,o=>y(d,{key:o,icon:n(c)>=o?"star":n(c)>=o-.5?"star-half-full":"star-outline",style:j({color:n(c)>=o-.5?"orange":"gray"})},null,8,["icon","style"])),64)),p(" ("+_(Math.round(n(c)*100)/100)+") ",1)]),e("p",null,[t[2]||(t[2]=e("strong",null,"Holder:",-1)),p(" "+_(n(s).recipients)+" developers",1)]),e("p",null,[t[3]||(t[3]=e("strong",null,"Category:",-1)),p(" "+_(n(s).category),1)]),e("p",null,[t[4]||(t[4]=e("strong",null,"Unlocked:",-1)),y(d,{icon:n(v)?"check":"close",style:j({color:n(v)?"green":"red"})},null,8,["icon","style"])]),e("p",null,_(n(s).description),1),n(v)?(u(),f("p",{key:0,innerHTML:n(s).details},null,8,U)):H("",!0),t[5]||(t[5]=e("h1",{class:"title"},"Collection",-1)),e("div",A,[e("div",G,[(u(!0),f(w,null,C(n(x),o=>(u(),R(g,{key:o.name,developer:n(i),enabled:!0,img:o.image,hover:!1,name:o.name},null,8,["developer","img","name"]))),128))])])]),e("div",K,[e("img",{src:n(s).image},null,8,O)])]),y(a,{onClick:B,color:"is-info"},{default:F(()=>t[6]||(t[6]=[p(" < ")])),_:1})])]),t[7]||(t[7]=e("section",{class:"section"},[e("div",{class:"container content"})],-1))])}}}),te=S(P,[["__scopeId","data-v-b104e962"]]);export{te as default};
